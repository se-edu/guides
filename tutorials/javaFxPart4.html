<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="generator" content="MarkBind 6.0.2">
    <meta name="viewport" content="width=device-width, initial-scale=1"><title>JavaFX tutorial part 4 – Using FXML</title> <link rel="stylesheet" href="/guides/markbind/css/bootstrap.min.css"> <link rel="stylesheet" href="/guides/markbind/fontawesome/css/all.min.css"><link rel="stylesheet" href="/guides/markbind/css/codeblock-light.min.css"><link rel="stylesheet" href="/guides/markbind/css/markbind.min.css"><link rel="stylesheet" href="/guides/plugins/codeBlockCopyButtons/codeBlockButtons.css"><link rel="stylesheet" href="/guides/plugins/markbind-plugin-anchors/markbind-plugin-anchors.css"><link rel="stylesheet" href="/guides/plugins/markbind-plugin-tree/markbind-plugin-tree.css">
    
  <link rel="stylesheet" href="/guides/css/main.css">
<link rel="icon" href="/guides/favicon.ico"></head>
<script>
  const baseUrl = '/guides'
</script>
<body  data-bs-spy="scroll" data-bs-target="#mb-page-nav" data-bs-offset="100" >
<div id="app"><!--[--><header sticky><div data-v-2dc82f13><nav class="navbar navbar-expand-md d-print-none navbar-dark bg-dark" data-v-2dc82f13><div class="container-fluid" data-v-2dc82f13><div class="navbar-left" data-v-2dc82f13><!--[--><a href="https://se-education.org" title="SE-EDU" class="navbar-brand"><span><span aria-hidden="true" class="fas fa-chevron-circle-left"></span> <strong><strong>SE-EDU</strong></strong></span></a><!--]--></div><div class="navbar-default" data-v-2dc82f13><ul class="navbar-nav me-auto mt-2 mt-lg-0" data-v-2dc82f13><!--[--> <li><a href="/guides/index.html" class="nav-link"><span><strong>Home</strong></span></a></li> <li><a href="/guides/about.html" class="nav-link"><span><strong>About</strong></span></a></li> <li><a href="https://github.com/se-edu/guides" class="nav-link"><span><span aria-hidden="true" class="fab fa-github"></span></span></a></li> <!--]--></ul></div><ul class="navbar-nav navbar-right" data-v-2dc82f13><!--[--><li class="nav-link"><form class="navbar-form"><div style="position:relative;" class="dropdown" data-v-00e26d0a><!--[--><input value="" data-bs-toggle="dropdown" type="text" class="form-control" placeholder="Search this site" autocomplete="off" data-v-00e26d0a><div class="form-control placeholder-div-hidden" data-v-00e26d0a>Search this site</div><!--]--><ul class="dropdown-menu search-dropdown-menu dropdown-menu-hidden dropdown-menu-end" data-v-00e26d0a><!--[--><!--]--></ul></div></form></li><!--]--></ul></div></nav><div style="display:none;" class="lower-navbar-container" data-v-2dc82f13><!--[--><!----><!----><!--]--></div></div></header> <div id="flex-body"><div id="content-wrapper" class="fixed-header-padding"><h1 id="guides-for-se-student-projects"><span class="text-dark"><strong><strong>Guides for SE student projects »</strong></strong></span><a class="fa fa-anchor" href="#guides-for-se-student-projects" onclick="event.stopPropagation()"></a></h1> <p><h1 id="javafx-tutorial-part-4-using-fxml">JavaFX tutorial part 4 – Using FXML<a class="fa fa-anchor" href="#javafx-tutorial-part-4-using-fxml" onclick="event.stopPropagation()"></a></h1> <p>While we have produced a fully functional prototype in part 3, there are some problems with the way we implemented it, using Java code alone:</p> <p><strong>Problem 1:</strong> The <code class="hljs inline no-lang">Main</code> class attempts to do it all. Code for visual tweaks, listeners and even utility methods are all in one file. This makes it difficult to find and make changes to existing code.<br> <strong>A possible solution:</strong> An alternative approach (to hand-coding everything) is to use FXML -- an XML-based language that allows us to define UIs. Properties of JavaFX objects can be defined in the FXML file. For example consider the following FXML snippet that defines a <code class="hljs inline no-lang">TextField</code> similar to the one that we programmatically defined previous in part 2:</p> <pre><code class="hljs xml"><span> <span class="hljs-tag">&lt;<span class="hljs-name">TextField</span> <span class="hljs-attr">fx:id</span>=<span class="hljs-string">&quot;userInput&quot;</span></span>
</span><span><span class="hljs-tag">            <span class="hljs-attr">layoutY</span>=<span class="hljs-string">&quot;558.0&quot;</span></span>
</span><span><span class="hljs-tag">            <span class="hljs-attr">onAction</span>=<span class="hljs-string">&quot;#handleUserInput&quot;</span></span>
</span><span><span class="hljs-tag">            <span class="hljs-attr">prefHeight</span>=<span class="hljs-string">&quot;41.0&quot;</span></span>
</span><span><span class="hljs-tag">            <span class="hljs-attr">prefWidth</span>=<span class="hljs-string">&quot;324.0&quot;</span></span>
</span><span><span class="hljs-tag">            <span class="hljs-attr">AnchorPane.bottomAnchor</span>=<span class="hljs-string">&quot;1.0&quot;</span> /&gt;</span>
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="tooltip-container">
    <span class="tooltiptext">Copy</span>
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </div>
    </button></div></pre><p>Notice how concise FXML is compared to the plain Java version.</p> <p><strong>Problem 2:</strong> The process of visually enhancing the GUI is long and painful. Every small change requires us to rebuild and run the application, just to see if the change gave the result we wanted.<br> <strong>A possible solution:</strong> Once we switch over to using FXML, we can use a tool such as Scene Builder (a tool developed by Oracle and currently maintained by Gluon) to inspect and tweak the GUI design in a <span class="trigger" data-mb-component-type="tooltip" tabindex="0"><!----><!-- do not delete this comment, it is for the stray space issue (#2419)
 --><!----></span> fashion.</p> <p>Let&#39;s return to Duke and convert it to use FXML instead, and give Scene Builder a try as well.</p> <h2 id="refactor-duke-to-use-fxml">Refactor Duke to use FXML<a class="fa fa-anchor" href="#refactor-duke-to-use-fxml" onclick="event.stopPropagation()"></a></h2> <p>FXML allows you to separate the GUI design (the so-called <em>view</em>), from the code that controls the GUI (the so-called <em>controllers</em>). First, lets extract out a <code class="hljs inline no-lang">MainWindow</code> class to contain the <em>controller</em> aspect of the main GUI:</p> <div class="code-block"><div class="code-block-heading"><span>MainWindow.java</span></div><div class="code-block-content"><pre><code heading="MainWindow.java" class="hljs java"><span><span class="hljs-keyword">import</span> javafx.fxml.FXML;
</span><span><span class="hljs-keyword">import</span> javafx.scene.control.Button;
</span><span><span class="hljs-keyword">import</span> javafx.scene.control.ScrollPane;
</span><span><span class="hljs-keyword">import</span> javafx.scene.control.TextField;
</span><span><span class="hljs-keyword">import</span> javafx.scene.image.Image;
</span><span><span class="hljs-keyword">import</span> javafx.scene.layout.AnchorPane;
</span><span><span class="hljs-keyword">import</span> javafx.scene.layout.VBox;
</span><span><span class="hljs-comment">/**</span>
</span><span><span class="hljs-comment"> * Controller for the main GUI.</span>
</span><span><span class="hljs-comment"> */</span>
</span><span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainWindow</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AnchorPane</span> </span>{
</span><span>    <span class="hljs-meta">@FXML</span>
</span><span>    <span class="hljs-keyword">private</span> ScrollPane scrollPane;
</span><span>    <span class="hljs-meta">@FXML</span>
</span><span>    <span class="hljs-keyword">private</span> VBox dialogContainer;
</span><span>    <span class="hljs-meta">@FXML</span>
</span><span>    <span class="hljs-keyword">private</span> TextField userInput;
</span><span>    <span class="hljs-meta">@FXML</span>
</span><span>    <span class="hljs-keyword">private</span> Button sendButton;
</span><span>
</span><span>    <span class="hljs-keyword">private</span> Duke duke;
</span><span>
</span><span>    <span class="hljs-keyword">private</span> Image userImage = <span class="hljs-keyword">new</span> Image(<span class="hljs-keyword">this</span>.getClass().getResourceAsStream(<span class="hljs-string">&quot;/images/DaUser.png&quot;</span>));
</span><span>    <span class="hljs-keyword">private</span> Image dukeImage = <span class="hljs-keyword">new</span> Image(<span class="hljs-keyword">this</span>.getClass().getResourceAsStream(<span class="hljs-string">&quot;/images/DaDuke.png&quot;</span>));
</span><span>
</span><span>    <span class="hljs-meta">@FXML</span>
</span><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initialize</span><span class="hljs-params">()</span> </span>{
</span><span>        scrollPane.vvalueProperty().bind(dialogContainer.heightProperty());
</span><span>    }
</span><span>
</span><span>    <span class="hljs-comment">/** Injects the Duke instance */</span>
</span><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setDuke</span><span class="hljs-params">(Duke d)</span> </span>{
</span><span>        duke = d;
</span><span>    }
</span><span>
</span><span>    <span class="hljs-comment">/**</span>
</span><span><span class="hljs-comment">     * Creates two dialog boxes, one echoing user input and the other containing Duke&#39;s reply and then appends them to</span>
</span><span><span class="hljs-comment">     * the dialog container. Clears the user input after processing.</span>
</span><span><span class="hljs-comment">     */</span>
</span><span>    <span class="hljs-meta">@FXML</span>
</span><span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">handleUserInput</span><span class="hljs-params">()</span> </span>{
</span><span>        String input = userInput.getText();
</span><span>        String response = duke.getResponse(input);
</span><span>        dialogContainer.getChildren().addAll(
</span><span>                DialogBox.getUserDialog(input, userImage),
</span><span>                DialogBox.getDukeDialog(response, dukeImage)
</span><span>        );
</span><span>        userInput.clear();
</span><span>    }
</span><span>}
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="tooltip-container">
    <span class="tooltiptext">Copy</span>
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </div>
    </button></div></pre></div></div><p>To go with the above, let&#39;s extract out the <em>view</em> aspect into an FXML file <code class="hljs inline no-lang">MainWindow.fxml</code>, to be placed in <code class="hljs inline no-lang">src/main/resources/view/</code>:</p> <div class="code-block"><div class="code-block-heading"><span>MainWindow.fxml</span></div><div class="code-block-content"><pre><code heading="MainWindow.fxml" class="hljs xml"><span><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span>
</span><span>&lt;?import javafx.scene.control.Button?&gt;
</span><span>&lt;?import javafx.scene.control.ScrollPane?&gt;
</span><span>&lt;?import javafx.scene.control.TextField?&gt;
</span><span>&lt;?import javafx.scene.layout.AnchorPane?&gt;
</span><span>&lt;?import javafx.scene.layout.VBox?&gt;
</span><span>
</span><span><span class="hljs-tag">&lt;<span class="hljs-name">AnchorPane</span> <span class="hljs-attr">maxHeight</span>=<span class="hljs-string">&quot;-Infinity&quot;</span> <span class="hljs-attr">maxWidth</span>=<span class="hljs-string">&quot;-Infinity&quot;</span></span>
</span><span><span class="hljs-tag">            <span class="hljs-attr">minHeight</span>=<span class="hljs-string">&quot;-Infinity&quot;</span> <span class="hljs-attr">minWidth</span>=<span class="hljs-string">&quot;-Infinity&quot;</span></span>
</span><span><span class="hljs-tag">            <span class="hljs-attr">prefHeight</span>=<span class="hljs-string">&quot;600.0&quot;</span> <span class="hljs-attr">prefWidth</span>=<span class="hljs-string">&quot;400.0&quot;</span></span>
</span><span><span class="hljs-tag">            <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://javafx.com/javafx/17&quot;</span></span>
</span><span><span class="hljs-tag">            <span class="hljs-attr">xmlns:fx</span>=<span class="hljs-string">&quot;http://javafx.com/fxml/1&quot;</span></span>
</span><span><span class="hljs-tag">            <span class="hljs-attr highlighted">fx:controller</span>=<span class="hljs-string">&quot;MainWindow&quot;</span>&gt;</span>
</span><span>    <span class="hljs-tag">&lt;<span class="hljs-name">children</span>&gt;</span>
</span><span>        <span class="hljs-tag">&lt;<span class="hljs-name">TextField</span> <span class="hljs-attr">fx:id</span>=<span class="hljs-string"><span>&quot;<span class="highlighted">userInput</span>&quot;</span></span></span>
</span><span><span class="hljs-tag">                   <span class="hljs-attr">layoutY</span>=<span class="hljs-string">&quot;558.0&quot;</span></span>
</span><span><span class="hljs-tag">                   <span class="hljs-attr">onAction</span>=<span class="hljs-string"><span>&quot;<span class="highlighted">#handleUserInput</span>&quot;</span></span></span>
</span><span><span class="hljs-tag">                   <span class="hljs-attr">prefHeight</span>=<span class="hljs-string">&quot;41.0&quot;</span></span>
</span><span><span class="hljs-tag">                   <span class="hljs-attr">prefWidth</span>=<span class="hljs-string">&quot;324.0&quot;</span></span>
</span><span><span class="hljs-tag">                   <span class="hljs-attr">AnchorPane.bottomAnchor</span>=<span class="hljs-string">&quot;1.0&quot;</span> /&gt;</span>
</span><span>        <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">fx:id</span>=<span class="hljs-string">&quot;sendButton&quot;</span></span>
</span><span><span class="hljs-tag">                <span class="hljs-attr">layoutX</span>=<span class="hljs-string">&quot;324.0&quot;</span></span>
</span><span><span class="hljs-tag">                <span class="hljs-attr">layoutY</span>=<span class="hljs-string">&quot;558.0&quot;</span></span>
</span><span><span class="hljs-tag">                <span class="hljs-attr">mnemonicParsing</span>=<span class="hljs-string">&quot;false&quot;</span></span>
</span><span><span class="hljs-tag">                <span class="hljs-attr">onAction</span>=<span class="hljs-string">&quot;#handleUserInput&quot;</span></span>
</span><span><span class="hljs-tag">                <span class="hljs-attr">prefHeight</span>=<span class="hljs-string">&quot;41.0&quot;</span></span>
</span><span><span class="hljs-tag">                <span class="hljs-attr">prefWidth</span>=<span class="hljs-string">&quot;76.0&quot;</span></span>
</span><span><span class="hljs-tag">                <span class="hljs-attr">text</span>=<span class="hljs-string">&quot;Send&quot;</span> /&gt;</span>
</span><span>        <span class="hljs-tag">&lt;<span class="hljs-name">ScrollPane</span> <span class="hljs-attr">fx:id</span>=<span class="hljs-string">&quot;scrollPane&quot;</span></span>
</span><span><span class="hljs-tag">                    <span class="hljs-attr">hbarPolicy</span>=<span class="hljs-string">&quot;NEVER&quot;</span></span>
</span><span><span class="hljs-tag">                    <span class="hljs-attr">hvalue</span>=<span class="hljs-string">&quot;1.0&quot;</span></span>
</span><span><span class="hljs-tag">                    <span class="hljs-attr">prefHeight</span>=<span class="hljs-string">&quot;557.0&quot;</span></span>
</span><span><span class="hljs-tag">                    <span class="hljs-attr">prefWidth</span>=<span class="hljs-string">&quot;400.0&quot;</span></span>
</span><span><span class="hljs-tag">                    <span class="hljs-attr">vvalue</span>=<span class="hljs-string">&quot;1.0&quot;</span>&gt;</span>
</span><span>            <span class="hljs-tag">&lt;<span class="hljs-name">content</span>&gt;</span>
</span><span>                <span class="hljs-tag">&lt;<span class="hljs-name">VBox</span> <span class="hljs-attr">fx:id</span>=<span class="hljs-string">&quot;dialogContainer&quot;</span></span>
</span><span><span class="hljs-tag">                      <span class="hljs-attr">prefHeight</span>=<span class="hljs-string">&quot;552.0&quot;</span></span>
</span><span><span class="hljs-tag">                      <span class="hljs-attr">prefWidth</span>=<span class="hljs-string">&quot;388.0&quot;</span> /&gt;</span>
</span><span>            <span class="hljs-tag">&lt;/<span class="hljs-name">content</span>&gt;</span>
</span><span>        <span class="hljs-tag">&lt;/<span class="hljs-name">ScrollPane</span>&gt;</span>
</span><span>    <span class="hljs-tag">&lt;/<span class="hljs-name">children</span>&gt;</span>
</span><span><span class="hljs-tag">&lt;/<span class="hljs-name">AnchorPane</span>&gt;</span>
</span><span>
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="tooltip-container">
    <span class="tooltiptext">Copy</span>
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </div>
    </button></div></pre></div></div><div class="alert box-container seamless" style="" data-v-19514615><!--Icon and vertical divider for seamless header box--><!----><div class="header-and-body" data-v-19514615><!-- Header wrapper, not rendered if there is no header attribute --><!----><!-- Body wrapper --><div class="box-body-wrapper" data-v-19514615><!-- icon on the left, not shown if there is a header --><div class="icon-wrapper text-danger" style="" data-v-19514615><!--[--><i class="fas fa-flag" data-v-19514615></i><!--]--></div><!-- Icon -- content divider for seamless boxes without the header attribute --><div class="alert-danger vertical-divider" aria-hidden="true" data-v-19514615></div><!-- Content wrapper --><div class="contents" style="" data-v-19514615><!--[--><p>Note that if you are using packages, <code class="hljs inline no-lang">fx:controller=&quot;MainWindow&quot;</code> needs to be updated accordingly e.g., <code class="hljs inline no-lang">fx:controller=&quot;seedu.duke.MainWindow&quot;</code></p><!--]--></div><!-- dismiss button on the right, not shown if there is a header --><!----></div></div></div> <p>The <code class="hljs inline no-lang">@FXML</code> annotation (seen in <code class="hljs inline no-lang">MainWindow.java</code>) marks a <code class="hljs inline no-lang">private</code> or <code class="hljs inline no-lang">protected</code> member and makes it accessible to FXML despite its modifier.
Without the annotation, we will have to make everything <code class="hljs inline no-lang">public</code> and expose our UI to unwanted changes.
Even private methods like <code class="hljs inline no-lang">handleUserInput</code> can be referenced from an FXML file when annotated by <code class="hljs inline no-lang">@FXML</code>.</p> <p>The FXML runtime will map a control with a <code class="hljs inline no-lang">fx:id</code> defined in FXML to a variable with the same name in its controller.
Notice how in <code class="hljs inline no-lang">MainWindow</code>, we can invoke <code class="hljs inline no-lang">userInput.clear()</code> just as we did in the previous non-FXML version of Duke (this is enabled by the <code class="hljs inline no-lang">&lt;TextField fx:id=&quot;userInput&quot; ... /&gt;</code> in the <code class="hljs inline no-lang">MainWindow.fxml</code>).</p> <p>Similarly, let&#39;s create an FXML file for the <code class="hljs inline no-lang">DialogBox</code> (to be placed in <code class="hljs inline no-lang">src/main/resources/view/</code>):</p> <div class="code-block"><div class="code-block-heading"><span>DialogBox.fxml</span></div><div class="code-block-content"><pre><code heading="DialogBox.fxml" class="hljs xml"><span><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span>
</span><span>&lt;?import javafx.geometry.Insets?&gt;
</span><span>&lt;?import javafx.scene.control.Label?&gt;
</span><span>&lt;?import javafx.scene.image.ImageView?&gt;
</span><span>&lt;?import javafx.scene.layout.HBox?&gt;
</span><span>
</span><span><span class="hljs-tag">&lt;<span class="hljs-name">fx:root</span> <span class="hljs-attr">alignment</span>=<span class="hljs-string">&quot;TOP_RIGHT&quot;</span></span>
</span><span><span class="hljs-tag">         <span class="hljs-attr">maxHeight</span>=<span class="hljs-string">&quot;1.7976931348623157E308&quot;</span></span>
</span><span><span class="hljs-tag">         <span class="hljs-attr">maxWidth</span>=<span class="hljs-string">&quot;1.7976931348623157E308&quot;</span></span>
</span><span><span class="hljs-tag">         <span class="hljs-attr">prefWidth</span>=<span class="hljs-string">&quot;400.0&quot;</span></span>
</span><span><span class="hljs-tag">         <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;javafx.scene.layout.HBox&quot;</span></span>
</span><span><span class="hljs-tag">         <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://javafx.com/javafx/17&quot;</span></span>
</span><span><span class="hljs-tag">         <span class="hljs-attr">xmlns:fx</span>=<span class="hljs-string">&quot;http://javafx.com/fxml/1&quot;</span>&gt;</span>
</span><span>  <span class="hljs-tag">&lt;<span class="hljs-name">children</span>&gt;</span>
</span><span>    <span class="hljs-tag">&lt;<span class="hljs-name">Label</span> <span class="hljs-attr">fx:id</span>=<span class="hljs-string">&quot;dialog&quot;</span> <span class="hljs-attr">text</span>=<span class="hljs-string">&quot;Label&quot;</span> <span class="hljs-attr">wrapText</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">minHeight</span>=<span class="hljs-string">&quot;-Infinity&quot;</span>/&gt;</span>
</span><span>    <span class="hljs-tag">&lt;<span class="hljs-name">ImageView</span> <span class="hljs-attr">fx:id</span>=<span class="hljs-string">&quot;displayPicture&quot;</span> <span class="hljs-attr">fitHeight</span>=<span class="hljs-string">&quot;99.0&quot;</span> <span class="hljs-attr">fitWidth</span>=<span class="hljs-string">&quot;99.0&quot;</span> <span class="hljs-attr">pickOnBounds</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">preserveRatio</span>=<span class="hljs-string">&quot;true&quot;</span> /&gt;</span>
</span><span>  <span class="hljs-tag">&lt;/<span class="hljs-name">children</span>&gt;</span>
</span><span>  <span class="hljs-tag">&lt;<span class="hljs-name">padding</span>&gt;</span>
</span><span>    <span class="hljs-tag">&lt;<span class="hljs-name">Insets</span> <span class="hljs-attr">bottom</span>=<span class="hljs-string">&quot;15.0&quot;</span> <span class="hljs-attr">left</span>=<span class="hljs-string">&quot;5.0&quot;</span> <span class="hljs-attr">right</span>=<span class="hljs-string">&quot;5.0&quot;</span> <span class="hljs-attr">top</span>=<span class="hljs-string">&quot;15.0&quot;</span> /&gt;</span>
</span><span>  <span class="hljs-tag">&lt;/<span class="hljs-name">padding</span>&gt;</span>
</span><span><span class="hljs-tag">&lt;/<span class="hljs-name">fx:root</span>&gt;</span>
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="tooltip-container">
    <span class="tooltiptext">Copy</span>
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </div>
    </button></div></pre></div></div><div class="alert box-container seamless" style="" data-v-19514615><!--Icon and vertical divider for seamless header box--><!----><div class="header-and-body" data-v-19514615><!-- Header wrapper, not rendered if there is no header attribute --><!----><!-- Body wrapper --><div class="box-body-wrapper" data-v-19514615><!-- icon on the left, not shown if there is a header --><div class="icon-wrapper text-info" style="" data-v-19514615><!--[--><i class="fas fa-info" data-v-19514615></i><!--]--></div><!-- Icon -- content divider for seamless boxes without the header attribute --><div class="alert-info vertical-divider" aria-hidden="true" data-v-19514615></div><!-- Content wrapper --><div class="contents" style="" data-v-19514615><!--[--><p>Note that for <code class="hljs inline no-lang">Label</code>, we set <code class="hljs inline no-lang">wrapText</code> to <strong>true</strong> and <code class="hljs inline no-lang">minHeight</code> to <strong>-Infinity</strong>. This configuration wraps the text within the label, removes the minimum height constraint, and allows the label to grow vertically as needed:</p> <p><a href="/guides/tutorials/images/javafx/NoOverrunDialogBox.png" target="_self"><img src="/guides/tutorials/images/javafx/NoOverrunDialogBox.png" alt="Set minHeight for Label" class="img-fluid"></a></p> <p>Without setting <code class="hljs inline no-lang">minHeight</code> to <strong>-Infinity</strong>, text overrun may occur when the text to be displayed exceeds the size of the label, causing the text to not be fully displayed and ends with <code class="hljs inline no-lang">...</code> instead:</p> <p><a href="/guides/tutorials/images/javafx/OverrunDialogBox.png" target="_self"><img src="/guides/tutorials/images/javafx/OverrunDialogBox.png" alt="No minHeight for Label" class="img-fluid"></a></p><!--]--></div><!-- dismiss button on the right, not shown if there is a header --><!----></div></div></div> <p>With that, we can trim down the <code class="hljs inline no-lang">DialogBox.java</code> to contain only the <em>controller</em> aspect:</p> <div class="code-block"><div class="code-block-heading"><span>DialogBox.java</span></div><div class="code-block-content"><pre><code heading="DialogBox.java" class="hljs java"><span><span class="hljs-keyword">import</span> java.io.IOException;
</span><span><span class="hljs-keyword">import</span> java.util.Collections;
</span><span>
</span><span><span class="hljs-keyword">import</span> javafx.collections.FXCollections;
</span><span><span class="hljs-keyword">import</span> javafx.collections.ObservableList;
</span><span><span class="hljs-keyword">import</span> javafx.fxml.FXML;
</span><span><span class="hljs-keyword">import</span> javafx.fxml.FXMLLoader;
</span><span><span class="hljs-keyword">import</span> javafx.geometry.Pos;
</span><span><span class="hljs-keyword">import</span> javafx.scene.Node;
</span><span><span class="hljs-keyword">import</span> javafx.scene.control.Label;
</span><span><span class="hljs-keyword">import</span> javafx.scene.image.Image;
</span><span><span class="hljs-keyword">import</span> javafx.scene.image.ImageView;
</span><span><span class="hljs-keyword">import</span> javafx.scene.layout.HBox;
</span><span>
</span><span><span class="hljs-comment">/**</span>
</span><span><span class="hljs-comment"> * Represents a dialog box consisting of an ImageView to represent the speaker&#39;s face</span>
</span><span><span class="hljs-comment"> * and a label containing text from the speaker.</span>
</span><span><span class="hljs-comment"> */</span>
</span><span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DialogBox</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HBox</span> </span>{
</span><span>    <span class="hljs-meta">@FXML</span>
</span><span>    <span class="hljs-keyword">private</span> Label dialog;
</span><span>    <span class="hljs-meta">@FXML</span>
</span><span>    <span class="hljs-keyword">private</span> ImageView displayPicture;
</span><span>
</span><span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">DialogBox</span><span class="hljs-params">(String text, Image img)</span> </span>{
</span><span>        <span class="hljs-keyword">try</span> {
</span><span>            FXMLLoader fxmlLoader = <span class="hljs-keyword">new</span> FXMLLoader(MainWindow.class.getResource(<span class="hljs-string">&quot;/view/DialogBox.fxml&quot;</span>));
</span><span>            fxmlLoader.setController(<span class="hljs-keyword">this</span>);
</span><span>            fxmlLoader.setRoot(<span class="hljs-keyword">this</span>);
</span><span>            fxmlLoader.load();
</span><span>        } <span class="hljs-keyword">catch</span> (IOException e) {
</span><span>            e.printStackTrace();
</span><span>        }
</span><span>
</span><span>        dialog.setText(text);
</span><span>        displayPicture.setImage(img);
</span><span>    }
</span><span>
</span><span>    <span class="hljs-comment">/**</span>
</span><span><span class="hljs-comment">     * Flips the dialog box such that the ImageView is on the left and text on the right.</span>
</span><span><span class="hljs-comment">     */</span>
</span><span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">flip</span><span class="hljs-params">()</span> </span>{
</span><span>        ObservableList&lt;Node&gt; tmp = FXCollections.observableArrayList(<span class="hljs-keyword">this</span>.getChildren());
</span><span>        Collections.reverse(tmp);
</span><span>        getChildren().setAll(tmp);
</span><span>        setAlignment(Pos.TOP_LEFT);
</span><span>    }
</span><span>
</span><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> DialogBox <span class="hljs-title">getUserDialog</span><span class="hljs-params">(String text, Image img)</span> </span>{
</span><span>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> DialogBox(text, img);
</span><span>    }
</span><span>
</span><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> DialogBox <span class="hljs-title">getDukeDialog</span><span class="hljs-params">(String text, Image img)</span> </span>{
</span><span>        <span class="hljs-keyword">var</span> db = <span class="hljs-keyword">new</span> DialogBox(text, img);
</span><span>        db.flip();
</span><span>        <span class="hljs-keyword">return</span> db;
</span><span>    }
</span><span>}
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="tooltip-container">
    <span class="tooltiptext">Copy</span>
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </div>
    </button></div></pre></div></div><p>When we create a new instance of <code class="hljs inline no-lang">DialogBox</code> (i.e., in the <code class="hljs inline no-lang">DialogBox</code> constructor), we set both the controller and root <code class="hljs inline no-lang">Node</code> to <code class="hljs inline no-lang">DialogBox</code>. From this point onwards we can interact with <code class="hljs inline no-lang">DialogBox</code> as we did in the non-FXML verison of Duke. Note that this is another way of connecting up the fxml view file with the Java controller file (different from the <code class="hljs inline no-lang">fx:controller</code> technique we used to link up the <code class="hljs inline no-lang">MainWindow.fxml</code> with the <code class="hljs inline no-lang">MainWindow.java</code>).</p> <p>All that remains to do now is to trim the <code class="hljs inline no-lang">Main</code> class, as follows:</p> <div class="code-block"><div class="code-block-heading"><span>Main.java</span></div><div class="code-block-content"><pre><code heading="Main.java" class="hljs java"><span><span class="hljs-keyword">import</span> java.io.IOException;
</span><span>
</span><span><span class="hljs-keyword">import</span> javafx.application.Application;
</span><span><span class="hljs-keyword">import</span> javafx.fxml.FXMLLoader;
</span><span><span class="hljs-keyword">import</span> javafx.scene.Scene;
</span><span><span class="hljs-keyword">import</span> javafx.scene.layout.AnchorPane;
</span><span><span class="hljs-keyword">import</span> javafx.stage.Stage;
</span><span>
</span><span><span class="hljs-comment">/**</span>
</span><span><span class="hljs-comment"> * A GUI for Duke using FXML.</span>
</span><span><span class="hljs-comment"> */</span>
</span><span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Application</span> </span>{
</span><span>
</span><span>    <span class="hljs-keyword">private</span> Duke duke = <span class="hljs-keyword">new</span> Duke();
</span><span>
</span><span>    <span class="hljs-meta">@Override</span>
</span><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">start</span><span class="hljs-params">(Stage stage)</span> </span>{
</span><span>        <span class="hljs-keyword">try</span> {
</span><span>            FXMLLoader fxmlLoader = <span class="hljs-keyword">new</span> FXMLLoader(Main.class.getResource(<span class="hljs-string">&quot;/view/MainWindow.fxml&quot;</span>));
</span><span>            AnchorPane ap = fxmlLoader.load();
</span><span>            Scene scene = <span class="hljs-keyword">new</span> Scene(ap);
</span><span>            stage.setScene(scene);
</span><span>            fxmlLoader.&lt;MainWindow&gt;getController().setDuke(duke);  <span class="hljs-comment">// inject the Duke instance</span>
</span><span>            stage.show();
</span><span>        } <span class="hljs-keyword">catch</span> (IOException e) {
</span><span>            e.printStackTrace();
</span><span>        }
</span><span>    }
</span><span>}
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="tooltip-container">
    <span class="tooltiptext">Copy</span>
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </div>
    </button></div></pre></div></div><p>Again, we can interact with the <code class="hljs inline no-lang">AnchorPane</code> defined in the FXML as we would have if we created the <code class="hljs inline no-lang">AnchorPane</code> ourselves inside the <code class="hljs inline no-lang">Main</code> class.</p> <p>Run the application to verify it works as before.</p> <p>From the above refactoring, you can see how we can use FXML to separate <em>view</em> and <em>controller</em> aspects into separate files, and how FXML files and matching Java files can still refer each other&#39;s elements.</p> <h2 id="using-scene-builder-to-tweak-the-gui">Using Scene Builder to tweak the GUI<a class="fa fa-anchor" href="#using-scene-builder-to-tweak-the-gui" onclick="event.stopPropagation()"></a></h2> <p>Next, let us explore how we can use the Scene Builder tool to tweak the GUI visually. <a href="https://gluonhq.com/products/scene-builder/#download">Download</a> the appropriate version for your OS and install it.</p> <ol><li><p>Let’s use Scene Builder to explore FXML files we created earlier.</p> <p>Running Scene Builder brings up the main screen.
Select <code class="hljs inline no-lang">Open Project</code> &gt; <code class="hljs inline no-lang">src/main/resources/view/MainWindow.fxml</code>. Inspect each control and its properties.</p> <p><a href="/guides/tutorials/images/javafx/SceneBuilder.png" target="_self"><img src="/guides/tutorials/images/javafx/SceneBuilder.png" alt="SceneBuilder opening MainWindow.fxml" class="img-fluid"></a></p></li> <li><p>On the right accordion pane, you can modify the properties of the control that you have selected. Try changing the various settings and see what they do!</p> <div class="alert box-container seamless" style="" data-v-19514615><!--Icon and vertical divider for seamless header box--><!----><div class="header-and-body" data-v-19514615><!-- Header wrapper, not rendered if there is no header attribute --><!----><!-- Body wrapper --><div class="box-body-wrapper" data-v-19514615><!-- icon on the left, not shown if there is a header --><div class="icon-wrapper text-info" style="" data-v-19514615><!--[--><i class="fas fa-info" data-v-19514615></i><!--]--></div><!-- Icon -- content divider for seamless boxes without the header attribute --><div class="alert-info vertical-divider" aria-hidden="true" data-v-19514615></div><!-- Content wrapper --><div class="contents" style="" data-v-19514615><!--[--><p>Note that when you change something in Scene Builder and saves it, Scene Builder will change the JavaFX version in the <code class="hljs inline no-lang">.fxml</code> file to the latest JavaFX. Example:</p> <div class="code-block"><div class="code-block-heading"><span>MainWindow.fxml</span></div><div class="code-block-content"><pre><code heading="MainWindow.fxml" class="hljs diff"><span><span class="hljs-deletion">- &lt;fx:root ... xmlns=&quot;http://javafx.com/javafx/17&quot; ... &quot;&gt;</span>
</span><span><span class="hljs-addition">+ &lt;fx:root ... xmlns=&quot;http://javafx.com/javafx/22&quot; ... &quot;&gt;</span>
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="tooltip-container">
    <span class="tooltiptext">Copy</span>
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </div>
    </button></div></pre></div></div><p>This will cause a version incompatibility warning when you run the application. As a workaround, you can manually change back the version to the original value after you are done tweaking the UI. Alternatively, you can do to following (more permanent) fix:</p> <ol><li>Locate the <code class="hljs inline no-lang">SceneBuilder.cfg</code> file (<span class="trigger-click" tabindex="0"><span><!--[-->where is that file?<!--]--></span></span>).</li> <li>Add/update the JavaFX version specified in it (found under the <code class="hljs inline no-lang">[JavaOptions]</code> section), as follows:<pre><code class="hljs"><span>java-options=-Djavafx.version=17
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="tooltip-container">
    <span class="tooltiptext">Copy</span>
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </div>
    </button></div></pre></li> <li>Restart the SceneBuilder.</li></ol><!--]--></div><!-- dismiss button on the right, not shown if there is a header --><!----></div></div></div></li></ol> <!--[--><!-- NavBar has z-index of 1000, hence the z-index here should exceed that --><!-- SSR property is required for the snapshot tests to work --><!----><!--]--> <ol><li><p>On the left accordion, when you expand the <code class="hljs inline no-lang">Controller</code> panel at the bottom, you can see that we have set the controller class to <code class="hljs inline no-lang">MainWindow</code>.</p> <p><a href="/guides/tutorials/images/javafx/MainWindowController.png" target="_self"><img src="/guides/tutorials/images/javafx/MainWindowController.png" alt="Controller for MainWindow" class="img-fluid"></a></p></li> <li><p>Let’s now open <code class="hljs inline no-lang">DialogBox.fxml</code> in Scene Builder (open it the same way you opened the previous file), and expand the <code class="hljs inline no-lang">Controller</code> panel on the left-side accordion.<br> <a href="/guides/tutorials/images/javafx/DialogBoxController.png" target="_self"><img src="/guides/tutorials/images/javafx/DialogBoxController.png" alt="Settings for DialogBox" class="img-fluid"></a><br>
The main difference you can see here is that DialogBox ticks <code class="hljs inline no-lang">Use fx:root construct</code> and <em>does not define a controller class</em>. Ticking this enables the use of the <code class="hljs inline no-lang">fx:root</code> element, allowing you to reference a root element, which can be set by calling the <code class="hljs inline no-lang">setRoot()</code> method. The controller (which is shown as empty) can be programmatically set using the <code class="hljs inline no-lang">setController()</code> method. This is exactly what we did in the constructor of the <code class="hljs inline no-lang">DialogBox.java</code> earlier.</p> <div class="code-block"><div class="code-block-heading"><span>DialogBox.java</span></div><div class="code-block-content"><pre><code heading="DialogBox.java" class="hljs java"><span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">DialogBox</span><span class="hljs-params">(String text, Image img)</span> </span>{
</span><span>         <span class="hljs-keyword">try</span> {
</span><span>             FXMLLoader fxmlLoader = <span class="hljs-keyword">new</span> FXMLLoader(MainWindow.class.getResource(<span class="hljs-string">&quot;/view/DialogBox.fxml&quot;</span>));
</span><span>             <span class="highlighted">fxmlLoader.setController(<span class="hljs-keyword">this</span>);</span>
</span><span>             <span class="highlighted">fxmlLoader.setRoot(<span class="hljs-keyword">this</span>);</span>
</span><span>             fxmlLoader.load();
</span><span>         } <span class="hljs-keyword">catch</span> (IOException e) {
</span><span>             e.printStackTrace();
</span><span>         }
</span><span>
</span><span>         dialog.setText(text);
</span><span>         displayPicture.setImage(img);
</span><span>    }
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="tooltip-container">
    <span class="tooltiptext">Copy</span>
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </div>
    </button></div></pre></div></div><p>More about <code class="hljs inline no-lang">fx:root</code> on the documentation <a href="https://docs.oracle.com/javafx/2/api/javafx/fxml/doc-files/introduction_to_fxml.html#root_elements">Introduction to FXML | JavaFX 2.2</a>.</p></li></ol> <p><a href="/guides/tutorials/javaFxPart3.html"><span aria-hidden="true" class="fas fa-arrow-left"></span> Previous</a> | <a href="/guides/tutorials/javaFx.html"><span aria-hidden="true" class="fas fa-arrow-up"></span> <strong>ToC</strong></a> | <span class="badge rounded-pill bg-primary"><strong><span class="large">What&#39;s next?</span></strong></span> <a href="/guides/tutorials/javaFxPart5.html"><span aria-hidden="true" class="fas fa-arrow-right"></span> JavaFX tutorial part 5 - <strong>Tweaking the GUI</strong></a></p> <hr> <p><strong>Authors:</strong></p> <ul><li>Initial Version: Jeffry Lum</li> <li>Contributions: Samuel Neo (<a href="https://github.com/samuelneo">@samuelneo</a>)</li></ul></p></div> <nav id="page-nav" class="fixed-header-padding" data-v-6b1b63d2><!--[--><div class="nav-component slim-scroll"><nav id="mb-page-nav" class="nav nav-pills flex-column my-0 small no-flex-wrap" data-v-6b1b63d2><!--[--><a class="nav-link py-1" href="#javafx-tutorial-part-4-using-fxml">JavaFX tutorial part 4 – Using FXML‎</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap"><a class="nav-link py-1" href="#refactor-duke-to-use-fxml">Refactor Duke to use FXML‎</a> <a class="nav-link py-1" href="#using-scene-builder-to-tweak-the-gui">Using Scene Builder to tweak the GUI‎</a></nav><!--]--><!--v-if--></nav></div><!--]--><!--v-if--></nav> <div class="scroll-top-button fa-lg d-print-none" style="display:none;bottom:2%;right:2%;position:fixed;" aria-hidden="true"><!--[--><i class="fas fa-arrow-circle-up"></i><!--]--></div></div> <footer><div class="text-center"><small>[Powered by <img src="https://markbind.org/favicon.ico" width="30"> <a href="https://markbind.org/">MarkBind 6.0.2</a> on Sun, 10 Aug 2025, 16:38:04 GMT+8]</small></div></footer><!--]--></div>
</body><script src="/guides/markbind/js/bootstrap-utility.min.js"></script>
<script src="/guides/markbind/js/polyfill.min.js"></script>
<script src="/guides/markbind/js/vue.global.prod.min.js"></script>
<script src="/guides/markbind/js/markbind.min.js"></script>
<script src="javaFxPart4.page-vue-render.js"></script>
<script>
  MarkBind.setupWithSearch()
</script>
    <script>
    function copyCodeBlock(element) {
        const pre = element.parentElement.parentElement;
        const codeElement = pre.querySelector('code');
        const copyButtonBody = element.querySelector('.function-btn-body');
        const tooltipText = element.querySelector(".tooltiptext");

        // create dummy text element to select() the text field
        const textElement = document.createElement('textarea');
        textElement.value = codeElement.textContent;
        document.body.appendChild(textElement);
        textElement.select();

        document.execCommand('copy');
        document.body.removeChild(textElement);
        copyButtonBody.innerHTML = `
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="18"
    height="18"
    viewBox="2 2 22 22"
  >
    <path d="M 19.28125 5.28125 L 9 15.5625 L 4.71875 11.28125 L 3.28125 12.71875 L 8.28125 17.71875 
    L 9 18.40625 L 9.71875 17.71875 L 20.71875 6.71875 Z"></path>
  </svg>
`;
        console.log("Running tooltip");
        tooltipText.innerText  = `Copied!`;
        setTimeout(() => {
            copyButtonBody.innerHTML = `
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "/>
    </g>
</svg>
`;
            tooltipText.innerText  = `Copy`;
        }, 3000);
    }
    </script>
</html>
