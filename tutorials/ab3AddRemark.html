<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="generator" content="MarkBind 5.5.3">
    <meta name="viewport" content="width=device-width, initial-scale=1"><title>AB3 Tutorial: Adding a Command</title> <link rel="stylesheet" href="/guides/markbind/css/bootstrap.min.css"> <link rel="stylesheet" href="/guides/markbind/fontawesome/css/all.min.css"> <link rel="stylesheet" href="/guides/markbind/glyphicons/css/bootstrap-glyphicons.min.css"><link rel="stylesheet" href="/guides/markbind/css/codeblock-light.min.css"><link rel="stylesheet" href="/guides/markbind/css/markbind.min.css"><link rel="stylesheet" href="/guides/plugins/markbind-plugin-anchors/markbind-plugin-anchors.css"><link rel="stylesheet" href="/guides/plugins/markbind-plugin-tree/markbind-plugin-tree.css">
    
  <link rel="stylesheet" href="/guides/css/main.css">
<link rel="icon" href="/guides/favicon.ico"></head>
<script>
  const baseUrl = '/guides'
</script>
<body  data-bs-spy="scroll" data-bs-target="#mb-page-nav" data-bs-offset="100" >
<div id="app" data-server-rendered="true"><header sticky=""><div data-v-7c0fd418><nav class="navbar navbar-expand-md d-print-none navbar-dark bg-dark" data-v-7c0fd418><div class="container-fluid" data-v-7c0fd418><div class="navbar-left" data-v-7c0fd418><a href="https://se-education.org" title="SE-EDU" class="navbar-brand" data-v-7c0fd418><span data-v-7c0fd418><span aria-hidden="true" class="fas fa-chevron-circle-left" data-v-7c0fd418></span> <strong data-v-7c0fd418><strong data-v-7c0fd418>SE-EDU</strong></strong></span></a></div> <div class="navbar-default" data-v-7c0fd418><ul class="navbar-nav me-auto mt-2 mt-lg-0" data-v-7c0fd418> <li data-v-7c0fd418><a href="/guides/index.html" class="nav-link" data-v-7c0fd418><span data-v-7c0fd418><strong data-v-7c0fd418>Home</strong></span></a></li> <li data-v-7c0fd418><a href="/guides/about.html" class="nav-link" data-v-7c0fd418><span data-v-7c0fd418><strong data-v-7c0fd418>About</strong></span></a></li> <li data-v-7c0fd418><a href="https://github.com/se-edu/guides" class="nav-link" data-v-7c0fd418><span data-v-7c0fd418><span aria-hidden="true" class="fab fa-github" data-v-7c0fd418></span></span></a></li></ul></div> <ul class="navbar-nav navbar-right" data-v-7c0fd418><li class="nav-link" data-v-7c0fd418><form class="navbar-form" data-v-7c0fd418><div class="dropdown" style="position:relative;" data-v-4f6e9aec><input data-bs-toggle="dropdown" type="text" placeholder="Search this site" autocomplete="off" value="" class="form-control" data-v-4f6e9aec> <div class="form-control placeholder-div-hidden" data-v-4f6e9aec>
      Search this site
    </div> <ul class="dropdown-menu search-dropdown-menu dropdown-menu-hidden dropdown-menu-end" data-v-4f6e9aec></ul></div></form></li></ul></div></nav> <div class="lower-navbar-container" style="display:none;" data-v-7c0fd418><!----> <!----></div></div></header> <div id="flex-body"><div id="content-wrapper" class="fixed-header-padding"><h1 id="guides-for-se-student-projects"><span class="text-dark"><strong><strong>Guides for SE student projects »</strong></strong></span><a href="#guides-for-se-student-projects" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h1> <p></p><div><div class="alert box-container seamless" data-v-474166ec><!----> <div class="header-and-body" data-v-474166ec><!----> <div class="box-body-wrapper" data-v-474166ec><div class="icon-wrapper  text-danger" data-v-474166ec><span aria-hidden="true" class="fas fa-bug" data-v-474166ec></span></div> <div aria-hidden="true" class="vertical-divider alert-danger" data-v-474166ec></div> <div class="contents" data-v-474166ec> <p data-v-474166ec><strong data-v-474166ec>Noticed any bugs/issues or unclear areas</strong> while following this tutorial? Help us improve it by reporting it at <a href="https://github.com/se-edu/guides/issues" data-v-474166ec>our issue tracker</a>.</p></div> <!----></div></div></div></div> <h1 id="ab3-tutorial-adding-a-command">AB3 Tutorial: Adding a Command<a href="#ab3-tutorial-adding-a-command" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h1> <p>Let's walk you through the implementation of a new command — <code class="hljs inline no-lang">remark</code>.</p> <p>This command allows users of the AddressBook application to add optional remarks to people in their address book and edit it if required. The command should have the following format:</p> <p><code class="hljs inline no-lang">remark INDEX r/REMARK</code></p> <ul><li><code class="hljs inline no-lang">INDEX</code>: Refers to the position of the person in the currently displayed list on the GUI.</li> <li><code class="hljs inline no-lang">REMARK</code>: Is the note you wish to attach to their entry.</li></ul> <p>For example, <code class="hljs inline no-lang">remark 2 r/Likes baseball</code> adds the remark “Likes baseball” to the person at position 2 in the currently displayed list.</p> <p>We’ll assume that you have already set up the development environment as outlined in the Developer’s Guide.</p> <h2 id="create-a-new-remark-command">Create a new <code class="hljs inline no-lang">remark</code> command<a href="#create-a-new-remark-command" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>Looking in the <code class="hljs inline no-lang">logic.commands</code> package, you will notice that each existing command have their own class. All the commands inherit from the abstract class <code class="hljs inline no-lang">Command</code> which means that they must override <code class="hljs inline no-lang">execute()</code>. Each <code class="hljs inline no-lang">Command</code> returns an instance of <code class="hljs inline no-lang">CommandResult</code> upon success and <code class="hljs inline no-lang">CommandResult#feedbackToUser</code> is printed to the <code class="hljs inline no-lang">ResultDisplay</code>.</p> <p>Let’s start by creating a new <code class="hljs inline no-lang">RemarkCommand</code> class in the <code class="hljs inline no-lang">src/main/java/seedu/address/logic/command</code> directory.</p> <p>For now, let’s keep <code class="hljs inline no-lang">RemarkCommand</code> as simple as possible and print some output. We accomplish that by returning a <code class="hljs inline no-lang">CommandResult</code> with an accompanying message.</p> <p><strong><code class="hljs inline no-lang">RemarkCommand.java</code>:</strong></p> <pre><code class="hljs java"><span><span class="hljs-keyword">package</span> seedu.address.logic.commands;
</span><span>
</span><span><span class="hljs-keyword">import</span> seedu.address.model.Model;
</span><span>
</span><span><span class="hljs-comment">/**</span>
</span><span><span class="hljs-comment"> * Changes the remark of an existing person in the address book.</span>
</span><span><span class="hljs-comment"> */</span>
</span><span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RemarkCommand</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Command</span> </span>{
</span><span>
</span><span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String COMMAND_WORD = <span class="hljs-string">&quot;remark&quot;</span>;
</span><span>
</span><span>    <span class="hljs-meta">@Override</span>
</span><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> CommandResult <span class="hljs-title">execute</span><span class="hljs-params">(Model model)</span> </span>{
</span><span>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> CommandResult(<span class="hljs-string">&quot;Hello from remark&quot;</span>);
</span><span>    }
</span><span>}
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><h3 id="hook-remarkcommand-into-the-application">Hook <code class="hljs inline no-lang">RemarkCommand</code> into the application<a href="#hook-remarkcommand-into-the-application" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Now that we have our <code class="hljs inline no-lang">RemarkCommand</code> ready to be executed, we need to update <code class="hljs inline no-lang">AddressBookParser#parseCommand()</code> to recognize the <code class="hljs inline no-lang">remark</code> keyword. Add the new command to the <code class="hljs inline no-lang">switch</code> block by creating a new <code class="hljs inline no-lang">case</code> that returns a new instance of <code class="hljs inline no-lang">RemarkCommand</code>.</p> <p><strong>Optionally, if you wish to keep your tests updated</strong> as you go, you can also follow the instructions given in panels such as the one below:</p> <div class="card-container" data-v-c545cba4><div class="card expandable-card card-seamless border-0" data-v-c545cba4><div class="card-header header-toggle bg-transparent border-0" data-v-c545cba4><div class="caret-wrapper" data-v-c545cba4><span class="glyphicon glyphicon-chevron-right" data-v-c545cba4></span></div> <div class="header-wrapper-seamless header-wrapper card-title bg-transparent" data-v-c545cba4><p data-v-c545cba4><span class="large" data-v-c545cba4><span class="mkb-text-green" data-v-c545cba4><span aria-hidden="true" class="fas fa-vial-circle-check" data-v-c545cba4></span></span></span> Updating tests to match ...</p></div> <div class="button-wrapper" data-v-c545cba4><button type="button" class="collapse-button btn btn-outline-light" style="display:none;" data-v-c545cba4><span aria-hidden="true" class="collapse-icon glyphicon glyphicon-menu-down"></span></button> <button type="button" class="close-button btn btn-outline-light seamless-button" data-v-c545cba4><span aria-hidden="true" class="glyphicon glyphicon-remove" data-v-c545cba4></span></button> <button type="button" class="popup-button btn btn-outline-light seamless-button" style="display:none;" data-v-c545cba4><span aria-hidden="true" class="glyphicon glyphicon-new-window" data-v-c545cba4></span></button></div></div> <div class="card-collapse" data-v-c545cba4><!----> <hr style="display:;" data-v-c545cba4></div> <!----></div></div> <p></p> <p>You can see the changes mentioned above in this <a href="https://github.com/se-edu/addressbook-level3/commit/35eb7286f18a029d39cb7a29df8f172a001e4fd8#diff-399c284cb892c20b7c04a69116fcff6ccc0666c5230a1db8e4a9145def8fa4ee">diff</a>.</p> <div class="alert box-container seamless" data-v-474166ec><!----> <div class="header-and-body" data-v-474166ec><!----> <div class="box-body-wrapper" data-v-474166ec><div class="icon-wrapper  text-warning" data-v-474166ec><i class="fas fa-exclamation" data-v-474166ec></i></div> <div aria-hidden="true" class="vertical-divider alert-warning" data-v-474166ec></div> <div class="contents" data-v-474166ec><p data-v-474166ec><strong data-v-474166ec>Code given in the diff's cited here (such as the one above) might be slightly outdated</strong> compared to the current AB3 code. If you copy over the code from such a diff, you need to verify the code is working as expected, and fix up the outdated parts as necessary.</p></div> <!----></div></div></div> <h3 id="run-the-application">Run the application<a href="#run-the-application" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Run <code class="hljs inline no-lang">Main#main</code> and try out your new <code class="hljs inline no-lang">RemarkCommand</code>. If everything went well, you should see something like this:</p> <span class="image-wrapper"><img src="/guides/tutorials/images/add-remark/RemarkHello.png" alt="AB3 GUI" width="" height="" loading="eager" class="img-fluid rounded"> <span class="image-caption"></span></span> <h2 id="change-remarkcommand-to-throw-an-exception">Change <code class="hljs inline no-lang">RemarkCommand</code> to throw an exception<a href="#change-remarkcommand-to-throw-an-exception" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>While we have successfully printed a message to <code class="hljs inline no-lang">ResultDisplay</code>, the command does not do what it is supposed to do. Let’s change the command to throw a <code class="hljs inline no-lang">CommandException</code> to accurately reflect that our command is still a work in progress.</p> <span class="image-wrapper"><img src="/guides/tutorials/images/add-remark/RemarkClass.png" alt="The relationship between RemarkCommand and Command" width="" height="" loading="eager" class="img-fluid rounded"> <span class="image-caption"></span></span> <p>Following the convention in other commands, we add relevant messages as constants and use them.</p> <p><strong><code class="hljs inline no-lang">RemarkCommand.java</code>:</strong></p> <pre><code class="hljs java"><span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String MESSAGE_USAGE = COMMAND_WORD
</span><span>            + <span class="hljs-string">&quot;: Edits the remark of the person identified &quot;</span>
</span><span>            + <span class="hljs-string">&quot;by the index number used in the last person listing. &quot;</span>
</span><span>            + <span class="hljs-string">&quot;Existing remark will be overwritten by the input.\n&quot;</span>
</span><span>            + <span class="hljs-string">&quot;Parameters: INDEX (must be a positive integer) &quot;</span>
</span><span>            + <span class="hljs-string">&quot;r/ [REMARK]\n&quot;</span>
</span><span>            + <span class="hljs-string">&quot;Example: &quot;</span> + COMMAND_WORD + <span class="hljs-string">&quot; 1 &quot;</span>
</span><span>            + <span class="hljs-string">&quot;r/ Likes to swim.&quot;</span>;
</span><span>
</span><span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String MESSAGE_NOT_IMPLEMENTED_YET =
</span><span>            <span class="hljs-string">&quot;Remark command not implemented yet&quot;</span>;
</span><span>
</span><span>    <span class="hljs-meta">@Override</span>
</span><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> CommandResult <span class="hljs-title">execute</span><span class="hljs-params">(Model model)</span> <span class="hljs-keyword">throws</span> CommandException </span>{
</span><span>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> CommandException(MESSAGE_NOT_IMPLEMENTED_YET);
</span><span>    }
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><h2 id="enhancing-remarkcommand">Enhancing <code class="hljs inline no-lang">RemarkCommand</code><a href="#enhancing-remarkcommand" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>Let’s change <code class="hljs inline no-lang">RemarkCommand</code> to parse input from the user.</p> <h3 id="make-the-command-accept-parameters">Make the command accept parameters<a href="#make-the-command-accept-parameters" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>We start by modifying the constructor of <code class="hljs inline no-lang">RemarkCommand</code> to accept an <code class="hljs inline no-lang">Index</code> and a <code class="hljs inline no-lang">String</code>. While we are at it, let’s change the error message to echo the values. While this is not a replacement for tests, it is an obvious way to tell if our code is functioning as intended.</p> <pre><code class="hljs java"><span><span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> seedu.address.commons.util.CollectionUtil.requireAllNonNull;
</span><span><span class="hljs-comment">//...</span>
</span><span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RemarkCommand</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Command</span> </span>{
</span><span>    <span class="hljs-comment">//...</span>
</span><span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String MESSAGE_ARGUMENTS = <span class="hljs-string">&quot;Index: %1$d, Remark: %2$s&quot;</span>;
</span><span>
</span><span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Index index;
</span><span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String remark;
</span><span>
</span><span>    <span class="hljs-comment">/**</span>
</span><span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> index of the person in the filtered person list to edit the remark</span>
</span><span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> remark of the person to be updated to</span>
</span><span><span class="hljs-comment">     */</span>
</span><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">RemarkCommand</span><span class="hljs-params">(Index index, String remark)</span> </span>{
</span><span>        requireAllNonNull(index, remark);
</span><span>
</span><span>        <span class="hljs-keyword">this</span>.index = index;
</span><span>        <span class="hljs-keyword">this</span>.remark = remark;
</span><span>    }
</span><span>    <span class="hljs-meta">@Override</span>
</span><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> CommandResult <span class="hljs-title">execute</span><span class="hljs-params">(Model model)</span> <span class="hljs-keyword">throws</span> CommandException </span>{
</span><span>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> CommandException(
</span><span>                String.format(MESSAGE_ARGUMENTS, index.getOneBased(), remark));
</span><span>    }
</span><span>
</span><span>    <span class="hljs-meta">@Override</span>
</span><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">equals</span><span class="hljs-params">(Object other)</span> </span>{
</span><span>        <span class="hljs-keyword">if</span> (other == <span class="hljs-keyword">this</span>) {
</span><span>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
</span><span>        }
</span><span>
</span><span>        <span class="hljs-comment">// instanceof handles nulls</span>
</span><span>        <span class="hljs-keyword">if</span> (!(other <span class="hljs-keyword">instanceof</span> RemarkCommand)) {
</span><span>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
</span><span>        }
</span><span>
</span><span>        RemarkCommand e = (RemarkCommand) other;
</span><span>        <span class="hljs-keyword">return</span> index.equals(e.index)
</span><span>                &amp;&amp; remark.equals(e.remark);
</span><span>    }
</span><span>}
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><div class="card-container" data-v-c545cba4><div class="card expandable-card card-seamless border-0" data-v-c545cba4><div class="card-header header-toggle bg-transparent border-0" data-v-c545cba4><div class="caret-wrapper" data-v-c545cba4><span class="glyphicon glyphicon-chevron-right" data-v-c545cba4></span></div> <div class="header-wrapper-seamless header-wrapper card-title bg-transparent" data-v-c545cba4><p data-v-c545cba4><span class="large" data-v-c545cba4><span class="mkb-text-green" data-v-c545cba4><span aria-hidden="true" class="fas fa-vial-circle-check" data-v-c545cba4></span></span></span> Updating tests to match ...</p></div> <div class="button-wrapper" data-v-c545cba4><button type="button" class="collapse-button btn btn-outline-light" style="display:none;" data-v-c545cba4><span aria-hidden="true" class="collapse-icon glyphicon glyphicon-menu-down"></span></button> <button type="button" class="close-button btn btn-outline-light seamless-button" data-v-c545cba4><span aria-hidden="true" class="glyphicon glyphicon-remove" data-v-c545cba4></span></button> <button type="button" class="popup-button btn btn-outline-light seamless-button" style="display:none;" data-v-c545cba4><span aria-hidden="true" class="glyphicon glyphicon-new-window" data-v-c545cba4></span></button></div></div> <div class="card-collapse" data-v-c545cba4><!----> <hr style="display:;" data-v-c545cba4></div> <!----></div></div> <p></p> <p>Your code should look something like <a href="https://github.com/se-edu/addressbook-level3/commit/dc6d5139d08f6403da0ec624ea32bd79a2ae0cbf#diff-a8e35af8f9c251525063fae36c9852922a7e7195763018eacec60f3a4d87c594">this</a> after you are done.</p> <h3 id="parse-user-input">Parse user input<a href="#parse-user-input" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Now let’s move on to writing a parser that will extract the index and remark from the input provided by the user.</p> <p>Create a <code class="hljs inline no-lang">RemarkCommandParser</code> class in the <code class="hljs inline no-lang">seedu.address.logic.parser</code> package. The class must extend the <code class="hljs inline no-lang">Parser</code> interface.</p> <span class="image-wrapper"><img src="/guides/tutorials/images/add-remark/ParserClass.png" alt="The relationship between Parser and RemarkCommandParser" width="" height="" loading="eager" class="img-fluid rounded"> <span class="image-caption"></span></span> <p>Thankfully, <code class="hljs inline no-lang">ArgumentTokenizer#tokenize()</code> makes it trivial to parse user input. Let’s take a look at the JavaDoc provided for the function to understand what it does.</p> <p><strong><code class="hljs inline no-lang">ArgumentTokenizer.java</code>:</strong></p> <pre><code class="hljs java"><span><span class="hljs-comment">/**</span>
</span><span><span class="hljs-comment"> * Tokenizes an arguments string and returns an {<span class="hljs-doctag">@code</span> ArgumentMultimap}</span>
</span><span><span class="hljs-comment"> * object that maps prefixes to their respective argument values. Only the</span>
</span><span><span class="hljs-comment"> * given prefixes will be recognized in the arguments string.</span>
</span><span><span class="hljs-comment"> *</span>
</span><span><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> argsString Arguments string of the form:</span>
</span><span><span class="hljs-comment"> * {<span class="hljs-doctag">@code</span> preamble &lt;prefix&gt;value &lt;prefix&gt;value ...}</span>
</span><span><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> prefixes   Prefixes to tokenize the arguments string with</span>
</span><span><span class="hljs-comment"> * <span class="hljs-doctag">@return</span>           ArgumentMultimap object that maps prefixes to their</span>
</span><span><span class="hljs-comment"> * arguments</span>
</span><span><span class="hljs-comment"> */</span>
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><p>We can tell <code class="hljs inline no-lang">ArgumentTokenizer#tokenize()</code> to look out for our new prefix <code class="hljs inline no-lang">r/</code> and it will return us an instance of <code class="hljs inline no-lang">ArgumentMultimap</code>. Now let’s find out what we need to do in order to obtain the Index and String that we need. Let’s look through <code class="hljs inline no-lang">ArgumentMultimap</code> :</p> <p><strong><code class="hljs inline no-lang">ArgumentMultimap.java</code>:</strong></p> <pre><code class="hljs java"><span><span class="hljs-comment">/**</span>
</span><span><span class="hljs-comment"> * Returns the last value of {<span class="hljs-doctag">@code</span> prefix}.</span>
</span><span><span class="hljs-comment"> */</span>
</span><span><span class="hljs-function"><span class="hljs-keyword">public</span> Optional&lt;String&gt; <span class="hljs-title">getValue</span><span class="hljs-params">(Prefix prefix)</span> </span>{
</span><span>    List&lt;String&gt; values = getAllValues(prefix);
</span><span>    <span class="hljs-keyword">return</span> values.isEmpty() ? Optional.empty() :
</span><span>        Optional.of(values.get(values.size() - <span class="hljs-number">1</span>));
</span><span>}
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><p>This appears to be what we need to get a String of the remark. But what about the Index? Let's take a quick peek at existing <code class="hljs inline no-lang">Command</code> that uses an index to see how it is done.</p> <p><strong><code class="hljs inline no-lang">DeleteCommandParser.java</code>:</strong></p> <pre><code class="hljs java"><span>Index index = ParserUtil.parseIndex(args);
</span><span><span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> DeleteCommand(index);
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><p>There appears to be another utility class that obtains an <code class="hljs inline no-lang">Index</code> from the input provided by the user.</p> <p>Now that we have the know-how to extract the data that we need from the user’s input, we can parse the user command and create a new instance of <code class="hljs inline no-lang">RemarkCommand</code>, as given below.</p> <p><strong><code class="hljs inline no-lang">RemarkCommandParser.java</code>:</strong></p> <pre><code class="hljs java"><span><span class="hljs-function"><span class="hljs-keyword">public</span> RemarkCommand <span class="hljs-title">parse</span><span class="hljs-params">(String args)</span> <span class="hljs-keyword">throws</span> ParseException </span>{
</span><span>    requireNonNull(args);
</span><span>    ArgumentMultimap argMultimap = ArgumentTokenizer.tokenize(args,
</span><span>        PREFIX_REMARK);
</span><span>
</span><span>    Index index;
</span><span>    <span class="hljs-keyword">try</span> {
</span><span>        index = ParserUtil.parseIndex(argMultimap.getPreamble());
</span><span>    } <span class="hljs-keyword">catch</span> (IllegalValueException ive) {
</span><span>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ParseException(String.format(MESSAGE_INVALID_COMMAND_FORMAT,
</span><span>            RemarkCommand.MESSAGE_USAGE), ive);
</span><span>    }
</span><span>
</span><span>    String remark = argMultimap.getValue(PREFIX_REMARK).orElse(<span class="hljs-string">&quot;&quot;</span>);
</span><span>
</span><span>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> RemarkCommand(index, remark);
</span><span>}
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><div class="alert box-container seamless" data-v-474166ec><!----> <div class="header-and-body" data-v-474166ec><!----> <div class="box-body-wrapper" data-v-474166ec><div class="icon-wrapper  text-info" data-v-474166ec><i class="fas fa-info" data-v-474166ec></i></div> <div aria-hidden="true" class="vertical-divider alert-info" data-v-474166ec></div> <div class="contents" data-v-474166ec><p data-v-474166ec>Don’t forget to update <code class="hljs inline no-lang" data-v-474166ec>AddressBookParser</code> to use our new <code class="hljs inline no-lang" data-v-474166ec>RemarkCommandParser</code>!</p></div> <!----></div></div></div> <div class="card-container" data-v-c545cba4><div class="card expandable-card card-seamless border-0" data-v-c545cba4><div class="card-header header-toggle bg-transparent border-0" data-v-c545cba4><div class="caret-wrapper" data-v-c545cba4><span class="glyphicon glyphicon-chevron-right" data-v-c545cba4></span></div> <div class="header-wrapper-seamless header-wrapper card-title bg-transparent" data-v-c545cba4><p data-v-c545cba4><span class="large" data-v-c545cba4><span class="mkb-text-green" data-v-c545cba4><span aria-hidden="true" class="fas fa-vial-circle-check" data-v-c545cba4></span></span></span> Updating tests to match ...</p></div> <div class="button-wrapper" data-v-c545cba4><button type="button" class="collapse-button btn btn-outline-light" style="display:none;" data-v-c545cba4><span aria-hidden="true" class="collapse-icon glyphicon glyphicon-menu-down"></span></button> <button type="button" class="close-button btn btn-outline-light seamless-button" data-v-c545cba4><span aria-hidden="true" class="glyphicon glyphicon-remove" data-v-c545cba4></span></button> <button type="button" class="popup-button btn btn-outline-light seamless-button" style="display:none;" data-v-c545cba4><span aria-hidden="true" class="glyphicon glyphicon-new-window" data-v-c545cba4></span></button></div></div> <div class="card-collapse" data-v-c545cba4><!----> <hr style="display:;" data-v-c545cba4></div> <!----></div></div> <p></p> <p>If you are stuck, check out the sample
<a href="https://github.com/se-edu/addressbook-level3/commit/dc6d5139d08f6403da0ec624ea32bd79a2ae0cbf#diff-8bf239e8e9529369b577701303ddd96af93178b4ed6735f91c2d8488b20c6b4a">here</a>.</p> <h2 id="add-remark-to-the-model">Add <code class="hljs inline no-lang">Remark</code> to the model<a href="#add-remark-to-the-model" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>Now that we have all the information that we need, let’s lay the groundwork for propagating the remarks added into the in-memory storage of person data. We achieve that by working with the <code class="hljs inline no-lang">Person</code> model. Each field in a Person is implemented as a separate class (e.g. a <code class="hljs inline no-lang">Name</code> object represents the person’s name). That means we should add a <code class="hljs inline no-lang">Remark</code> class so that we can use a <code class="hljs inline no-lang">Remark</code> object to represent a remark given to a person.</p> <h3 id="add-a-new-remark-class">Add a new <code class="hljs inline no-lang">Remark</code> class<a href="#add-a-new-remark-class" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Create a new <code class="hljs inline no-lang">Remark</code> in <code class="hljs inline no-lang">seedu.address.model.person</code>. Since a <code class="hljs inline no-lang">Remark</code> is a field that is similar to <code class="hljs inline no-lang">Address</code>, we can reuse a significant bit of code.</p> <p>A copy-paste and search-replace later, you should have something like <a href="https://github.com/se-edu/addressbook-level3/commit/4516e099699baa9e2d51801bd26f016d812dedcc#diff-41bb13c581e280c686198251ad6cc337cd5e27032772f06ed9bf7f1440995ece">this</a>. Note how <code class="hljs inline no-lang">Remark</code> has no constrains and thus does not require input
validation.</p> <h3 id="make-use-of-remark">Make use of <code class="hljs inline no-lang">Remark</code><a href="#make-use-of-remark" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Let’s change <code class="hljs inline no-lang">RemarkCommand</code> and <code class="hljs inline no-lang">RemarkCommandParser</code> to use the new <code class="hljs inline no-lang">Remark</code> class instead of plain <code class="hljs inline no-lang">String</code>. These should be relatively simple changes.</p> <h2 id="add-a-placeholder-element-for-remark-to-the-ui">Add a placeholder element for remark to the UI<a href="#add-a-placeholder-element-for-remark-to-the-ui" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>Without getting too deep into <code class="hljs inline no-lang">fxml</code>, let’s go on a 5 minute adventure to get some placeholder text to show up for each person.</p> <p>Simply add the following to <a href="https://github.com/se-edu/addressbook-level3/commit/850b78879582f38accb05dd20c245963c65ea599#diff-639834f1e05afe2276a86372adf0fe5f69314642c2d93cfa543d614ce5a76688"><code class="hljs inline no-lang">seedu.address.ui.PersonCard</code></a>.</p> <p><strong><code class="hljs inline no-lang">PersonCard.java</code>:</strong></p> <pre><code class="hljs java"><span><span class="hljs-meta">@FXML</span>
</span><span><span class="hljs-keyword">private</span> Label remark;
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><p><code class="hljs inline no-lang">@FXML</code> is an annotation that marks a private or protected field and makes it accessible to FXML. It might sound like Greek to you right now, don’t worry — we will get back to it later.</p> <p>Then insert the following into <a href="https://github.com/se-edu/addressbook-level3/commit/850b78879582f38accb05dd20c245963c65ea599#diff-d44c4f51c24f6253c277a2bb9bc440b8064d9c15ad7cb7ceda280bca032efce9"><code class="hljs inline no-lang">main/resources/view/PersonListCard.fxml</code></a>.</p> <p><strong><code class="hljs inline no-lang">PersonListCard.fxml</code>:</strong></p> <pre><code class="hljs xml"><span><span class="hljs-tag">&lt;<span class="hljs-name">Label</span> <span class="hljs-attr">fx:id</span>=<span class="hljs-string">&quot;remark&quot;</span> <span class="hljs-attr">styleClass</span>=<span class="hljs-string">&quot;cell_small_label&quot;</span> <span class="hljs-attr">text</span>=<span class="hljs-string">&quot;\$remark&quot;</span> /&gt;</span>
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><p>That’s it! Fire up the application again and you should see something like this:</p> <p><a href="/guides/tutorials/images/add-remark/$Remark.png" target="_self"><img src="/guides/tutorials/images/add-remark/$Remark.png" alt="$remark shows up in each entry" class="img-fluid"></a></p> <h2 id="modify-person-to-support-a-remark-field">Modify <code class="hljs inline no-lang">Person</code> to support a <code class="hljs inline no-lang">Remark</code> field<a href="#modify-person-to-support-a-remark-field" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>Since <code class="hljs inline no-lang">PersonCard</code> displays data from a <code class="hljs inline no-lang">Person</code>, we need to update <code class="hljs inline no-lang">Person</code> to get our <code class="hljs inline no-lang">Remark</code> displayed!</p> <h3 id="modify-person">Modify <code class="hljs inline no-lang">Person</code><a href="#modify-person" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>We change the constructor of <code class="hljs inline no-lang">Person</code> to take a <code class="hljs inline no-lang">Remark</code>. We will also need to define new fields and accessors accordingly to store our new addition.</p> <h3 id="update-other-usages-of-person">Update other usages of <code class="hljs inline no-lang">Person</code><a href="#update-other-usages-of-person" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Unfortunately, a change to <code class="hljs inline no-lang">Person</code> will cause other commands to break, you will have to modify these commands to use the updated <code class="hljs inline no-lang">Person</code>!</p> <div class="alert box-container seamless" data-v-474166ec><!----> <div class="header-and-body" data-v-474166ec><!----> <div class="box-body-wrapper" data-v-474166ec><div class="icon-wrapper  text-success" data-v-474166ec><i class="fas fa-lightbulb" data-v-474166ec></i></div> <div aria-hidden="true" class="vertical-divider alert-success" data-v-474166ec></div> <div class="contents" data-v-474166ec><p data-v-474166ec>Use the <code class="hljs inline no-lang" data-v-474166ec>Find Usages</code> feature in IntelliJ IDEA on the <code class="hljs inline no-lang" data-v-474166ec>Person</code> class to find these commands.</p></div> <!----></div></div></div> <div class="card-container" data-v-c545cba4><div class="card expandable-card card-seamless border-0" data-v-c545cba4><div class="card-header header-toggle bg-transparent border-0" data-v-c545cba4><div class="caret-wrapper" data-v-c545cba4><span class="glyphicon glyphicon-chevron-right" data-v-c545cba4></span></div> <div class="header-wrapper-seamless header-wrapper card-title bg-transparent" data-v-c545cba4><p data-v-c545cba4><span class="large" data-v-c545cba4><span class="mkb-text-green" data-v-c545cba4><span aria-hidden="true" class="fas fa-vial-circle-check" data-v-c545cba4></span></span></span> Updating tests to match ...</p></div> <div class="button-wrapper" data-v-c545cba4><button type="button" class="collapse-button btn btn-outline-light" style="display:none;" data-v-c545cba4><span aria-hidden="true" class="collapse-icon glyphicon glyphicon-menu-down"></span></button> <button type="button" class="close-button btn btn-outline-light seamless-button" data-v-c545cba4><span aria-hidden="true" class="glyphicon glyphicon-remove" data-v-c545cba4></span></button> <button type="button" class="popup-button btn btn-outline-light seamless-button" style="display:none;" data-v-c545cba4><span aria-hidden="true" class="glyphicon glyphicon-new-window" data-v-c545cba4></span></button></div></div> <div class="card-collapse" data-v-c545cba4><!----> <hr style="display:;" data-v-c545cba4></div> <!----></div></div> <p></p> <p>Refer to <a href="https://github.com/se-edu/addressbook-level3/commit/ce998c37e65b92d35c91d28c7822cd139c2c0a5c">this commit</a> and check that you have got everything in order!</p> <h2 id="updating-storage">Updating Storage<a href="#updating-storage" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>AddressBook stores data by serializing <code class="hljs inline no-lang">JsonAdaptedPerson</code> into <code class="hljs inline no-lang">json</code> with the help of an external library — Jackson. Let’s update <code class="hljs inline no-lang">JsonAdaptedPerson</code> to work with our new <code class="hljs inline no-lang">Person</code>!</p> <p>While the changes to code may be minimal, the test data will have to be updated as well.</p> <div class="alert box-container seamless" data-v-474166ec><!----> <div class="header-and-body" data-v-474166ec><!----> <div class="box-body-wrapper" data-v-474166ec><div class="icon-wrapper  text-warning" data-v-474166ec><i class="fas fa-exclamation" data-v-474166ec></i></div> <div aria-hidden="true" class="vertical-divider alert-warning" data-v-474166ec></div> <div class="contents" data-v-474166ec><p data-v-474166ec>You must delete AddressBook’s storage file located at <code class="hljs inline no-lang" data-v-474166ec>/data/addressbook.json</code> before running it! Not doing so will cause AddressBook to default to an empty address book!</p></div> <!----></div></div></div> <div class="card-container" data-v-c545cba4><div class="card expandable-card card-seamless border-0" data-v-c545cba4><div class="card-header header-toggle bg-transparent border-0" data-v-c545cba4><div class="caret-wrapper" data-v-c545cba4><span class="glyphicon glyphicon-chevron-right" data-v-c545cba4></span></div> <div class="header-wrapper-seamless header-wrapper card-title bg-transparent" data-v-c545cba4><p data-v-c545cba4><span class="large" data-v-c545cba4><span class="mkb-text-green" data-v-c545cba4><span aria-hidden="true" class="fas fa-vial-circle-check" data-v-c545cba4></span></span></span> Updating tests to match ...</p></div> <div class="button-wrapper" data-v-c545cba4><button type="button" class="collapse-button btn btn-outline-light" style="display:none;" data-v-c545cba4><span aria-hidden="true" class="collapse-icon glyphicon glyphicon-menu-down"></span></button> <button type="button" class="close-button btn btn-outline-light seamless-button" data-v-c545cba4><span aria-hidden="true" class="glyphicon glyphicon-remove" data-v-c545cba4></span></button> <button type="button" class="popup-button btn btn-outline-light seamless-button" style="display:none;" data-v-c545cba4><span aria-hidden="true" class="glyphicon glyphicon-new-window" data-v-c545cba4></span></button></div></div> <div class="card-collapse" data-v-c545cba4><!----> <hr style="display:;" data-v-c545cba4></div> <!----></div></div> <p></p> <p>Check out <a href="https://github.com/se-edu/addressbook-level3/commit/556cbd0e03ff224d7a68afba171ad2eb0ce56bbf">this commit</a>
to see what the changes entail.</p> <h2 id="finalizing-the-ui">Finalizing the UI<a href="#finalizing-the-ui" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>Now that we have finalized the <code class="hljs inline no-lang">Person</code> class and its dependencies, we can now bind the <code class="hljs inline no-lang">Remark</code> field to the UI.</p> <p>Just add <a href="https://github.com/se-edu/addressbook-level3/commit/5b98fee11b6b3f5749b6b943c4f3bd3aa049b692">this one line of code!</a></p> <p><strong><code class="hljs inline no-lang">PersonCard.java</code>:</strong></p> <pre><code class="hljs java"><span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">PersonCard</span><span class="hljs-params">(Person person, <span class="hljs-keyword">int</span> displayedIndex)</span> </span>{
</span><span>    <span class="hljs-comment">//...</span>
</span><span>    remark.setText(person.getRemark().value);
</span><span>}
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><span class="image-wrapper"><img src="/guides/tutorials/images/add-remark/RemarkBound.png" width="" height="" loading="eager" class="img-fluid rounded"> <span class="image-caption"></span></span> <h2 id="putting-everything-together">Putting everything together<a href="#putting-everything-together" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>After the previous step, we notice a peculiar regression — we went from displaying something to nothing at all. However, this is expected behavior as we are yet to update the <code class="hljs inline no-lang">RemarkCommand</code> to make use of the code we've been adding in the last few steps.</p> <h3 id="update-remarkcommand-and-remarkcommandparser">Update <code class="hljs inline no-lang">RemarkCommand</code> and <code class="hljs inline no-lang">RemarkCommandParser</code><a href="#update-remarkcommand-and-remarkcommandparser" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>In this last step, we modify <code class="hljs inline no-lang">RemarkCommand#execute()</code> to change the <code class="hljs inline no-lang">Remark</code> of a <code class="hljs inline no-lang">Person</code>. Since all fields in a <code class="hljs inline no-lang">Person</code> are immutable, we create a new instance of a <code class="hljs inline no-lang">Person</code> with the values that we want and save it with <code class="hljs inline no-lang">Model#setPerson()</code>.</p> <p><strong><code class="hljs inline no-lang">RemarkCommand.java</code>:</strong></p> <pre><code class="hljs java"><span><span class="hljs-comment">//...</span>
</span><span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String MESSAGE_ADD_REMARK_SUCCESS = <span class="hljs-string">&quot;Added remark to Person: %1$s&quot;</span>;
</span><span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String MESSAGE_DELETE_REMARK_SUCCESS = <span class="hljs-string">&quot;Removed remark from Person: %1$s&quot;</span>;
</span><span><span class="hljs-comment">//...</span>
</span><span>    <span class="hljs-meta">@Override</span>
</span><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> CommandResult <span class="hljs-title">execute</span><span class="hljs-params">(Model model)</span> <span class="hljs-keyword">throws</span> CommandException </span>{
</span><span>        List&lt;Person&gt; lastShownList = model.getFilteredPersonList();
</span><span>
</span><span>        <span class="hljs-keyword">if</span> (index.getZeroBased() &gt;= lastShownList.size()) {
</span><span>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> CommandException(Messages.MESSAGE_INVALID_PERSON_DISPLAYED_INDEX);
</span><span>        }
</span><span>
</span><span>        Person personToEdit = lastShownList.get(index.getZeroBased());
</span><span>        Person editedPerson = <span class="hljs-keyword">new</span> Person(
</span><span>                personToEdit.getName(), personToEdit.getPhone(), personToEdit.getEmail(),
</span><span>                personToEdit.getAddress(), remark, personToEdit.getTags());
</span><span>
</span><span>        model.setPerson(personToEdit, editedPerson);
</span><span>        model.updateFilteredPersonList(PREDICATE_SHOW_ALL_PERSONS);
</span><span>
</span><span>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> CommandResult(generateSuccessMessage(editedPerson));
</span><span>    }
</span><span>
</span><span>    <span class="hljs-comment">/**</span>
</span><span><span class="hljs-comment">     * Generates a command execution success message based on whether</span>
</span><span><span class="hljs-comment">     * the remark is added to or removed from</span>
</span><span><span class="hljs-comment">     * {<span class="hljs-doctag">@code</span> personToEdit}.</span>
</span><span><span class="hljs-comment">     */</span>
</span><span>    <span class="hljs-function"><span class="hljs-keyword">private</span> String <span class="hljs-title">generateSuccessMessage</span><span class="hljs-params">(Person personToEdit)</span> </span>{
</span><span>        String message = !remark.value.isEmpty() ? MESSAGE_ADD_REMARK_SUCCESS : MESSAGE_DELETE_REMARK_SUCCESS;
</span><span>        <span class="hljs-keyword">return</span> String.format(message, Messages.format(personToEdit));
</span><span>    }
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn d-print-none">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><span class="image-wrapper"><img src="/guides/tutorials/images/add-remark/RemarkComplete.png" width="" height="" loading="eager" class="img-fluid rounded"> <span class="image-caption"></span></span> <div class="card-container" data-v-c545cba4><div class="card expandable-card card-seamless border-0" data-v-c545cba4><div class="card-header header-toggle bg-transparent border-0" data-v-c545cba4><div class="caret-wrapper" data-v-c545cba4><span class="glyphicon glyphicon-chevron-right" data-v-c545cba4></span></div> <div class="header-wrapper-seamless header-wrapper card-title bg-transparent" data-v-c545cba4><p data-v-c545cba4><span class="large" data-v-c545cba4><span class="mkb-text-green" data-v-c545cba4><span aria-hidden="true" class="fas fa-vial-circle-check" data-v-c545cba4></span></span></span> Updating tests to match ...</p></div> <div class="button-wrapper" data-v-c545cba4><button type="button" class="collapse-button btn btn-outline-light" style="display:none;" data-v-c545cba4><span aria-hidden="true" class="collapse-icon glyphicon glyphicon-menu-down"></span></button> <button type="button" class="close-button btn btn-outline-light seamless-button" data-v-c545cba4><span aria-hidden="true" class="glyphicon glyphicon-remove" data-v-c545cba4></span></button> <button type="button" class="popup-button btn btn-outline-light seamless-button" style="display:none;" data-v-c545cba4><span aria-hidden="true" class="glyphicon glyphicon-new-window" data-v-c545cba4></span></button></div></div> <div class="card-collapse" data-v-c545cba4><!----> <hr style="display:;" data-v-c545cba4></div> <!----></div></div> <p></p> <p><a href="/guides/tutorials/ab3TracingCode.html"><span aria-hidden="true" class="fas fa-arrow-left"></span> Previous</a> | <a href="/guides/tutorials/ab3.html"><span aria-hidden="true" class="fas fa-arrow-up"></span> <strong>ToC</strong></a> | <span class="badge rounded-pill bg-primary"><strong><span class="large">What's next?</span></strong></span> <a href="/guides/tutorials/ab3RemovingFields.html"><span aria-hidden="true" class="fas fa-arrow-right"></span> <strong>Removing Fields</strong></a></p> <hr> <p><strong>Authors:</strong></p> <ul><li>Initial Version: Jeffry Lum</li> <li>Contributors:
<ul><li>Rui Shan Teo (@ruishanteo): Added more explanations for writing tests</li></ul></li></ul><p></p></div> <nav id="page-nav" class="fixed-header-padding" data-v-e6005420><div class="nav-component slim-scroll" data-v-e6005420><nav id="mb-page-nav" class="nav nav-pills flex-column my-0 small no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#ab3-tutorial-adding-a-command" data-v-e6005420>AB3 Tutorial: Adding a Command‎</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#create-a-new-remark-command" data-v-e6005420>Create a new remark command‎</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#hook-remarkcommand-into-the-application" data-v-e6005420>Hook RemarkCommand into the application‎</a> <a class="nav-link py-1" href="#run-the-application" data-v-e6005420>Run the application‎</a></nav> <a class="nav-link py-1" href="#change-remarkcommand-to-throw-an-exception" data-v-e6005420>Change RemarkCommand to throw an exception‎</a> <a class="nav-link py-1" href="#enhancing-remarkcommand" data-v-e6005420>Enhancing RemarkCommand‎</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#make-the-command-accept-parameters" data-v-e6005420>Make the command accept parameters‎</a> <a class="nav-link py-1" href="#parse-user-input" data-v-e6005420>Parse user input‎</a></nav> <a class="nav-link py-1" href="#add-remark-to-the-model" data-v-e6005420>Add Remark to the model‎</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#add-a-new-remark-class" data-v-e6005420>Add a new Remark class‎</a> <a class="nav-link py-1" href="#make-use-of-remark" data-v-e6005420>Make use of Remark‎</a></nav> <a class="nav-link py-1" href="#add-a-placeholder-element-for-remark-to-the-ui" data-v-e6005420>Add a placeholder element for remark to the UI‎</a> <a class="nav-link py-1" href="#modify-person-to-support-a-remark-field" data-v-e6005420>Modify Person to support a Remark field‎</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#modify-person" data-v-e6005420>Modify Person‎</a> <a class="nav-link py-1" href="#update-other-usages-of-person" data-v-e6005420>Update other usages of Person‎</a></nav> <a class="nav-link py-1" href="#updating-storage" data-v-e6005420>Updating Storage‎</a> <a class="nav-link py-1" href="#finalizing-the-ui" data-v-e6005420>Finalizing the UI‎</a> <a class="nav-link py-1" href="#putting-everything-together" data-v-e6005420>Putting everything together‎</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#update-remarkcommand-and-remarkcommandparser" data-v-e6005420>Update RemarkCommand and RemarkCommandParser‎</a></nav></nav> <!----></nav></div> <!----></nav> <div aria-hidden="true" class="scroll-top-button fa-lg d-print-none" style="display:none;bottom:2%;right:2%;position:fixed;"><i class="fas fa-arrow-circle-up"></i></div></div> <footer><div class="text-center"><small>[Powered by <img src="https://markbind.org/favicon.ico" width="30"> <a href="https://markbind.org/">MarkBind 5.5.3</a> on Sat, 25 Jan 2025, 22:42:23 GMT+8]</small></div></footer></div>
</body><script src="/guides/markbind/js/bootstrap-utility.min.js"></script>
<script src="/guides/markbind/js/polyfill.min.js"></script>
<script src="/guides/markbind/js/vue.min.js"></script>
<script src="/guides/markbind/js/markbind.min.js"></script>
<script src="ab3AddRemark.page-vue-render.js"></script>
<script>
  MarkBind.setupWithSearch()
</script>
    <script>
    function copyCodeBlock(element) {
        const pre = element.parentElement.parentElement;
        const codeElement = pre.querySelector('code');

        // create dummy text element to select() the text field
        const textElement = document.createElement('textarea');
        textElement.value = codeElement.textContent;
        document.body.appendChild(textElement);
        textElement.select();

        document.execCommand('copy');
        document.body.removeChild(textElement);
    }
    </script>
</html>
