<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="generator" content="MarkBind 5.2.0">
    <meta name="viewport" content="width=device-width, initial-scale=1"><title>JavaFX tutorial part 3 – Interacting with the user</title> <link rel="stylesheet" href="/guides/markbind/css/bootstrap.min.css"> <link rel="stylesheet" href="/guides/markbind/fontawesome/css/all.min.css"><link rel="stylesheet" href="/guides/markbind/css/codeblock-light.min.css"><link rel="stylesheet" href="/guides/markbind/css/markbind.min.css"><script src="/guides/markbind/js/polyfill.min.js"></script>
    <script src="/guides/markbind/js/vue.min.js"></script>
    <script src="/guides/markbind/js/markbind.min.js"></script>
    <script src="javaFxPart3.page-vue-render.js"></script><link rel="stylesheet" href="/guides/plugins/markbind-plugin-anchors/markbind-plugin-anchors.css"><link rel="stylesheet" href="/guides/plugins/markbind-plugin-tree/markbind-plugin-tree.css">
    
  <link rel="stylesheet" href="/guides/css/main.css">
<link rel="icon" href="/guides/favicon.ico"></head>
<script>
  const baseUrl = '/guides'
</script>
<body  data-bs-spy="scroll" data-bs-target="#mb-page-nav" data-bs-offset="100" >
<div id="app" data-server-rendered="true"><header sticky=""><div data-v-73b4aa16><nav class="navbar navbar-expand-md d-print-none navbar-dark bg-dark" data-v-73b4aa16><div class="container-fluid" data-v-73b4aa16><div class="navbar-left" data-v-73b4aa16><a href="https://se-education.org" title="SE-EDU" class="navbar-brand" data-v-73b4aa16><span data-v-73b4aa16><span aria-hidden="true" class="fas fa-chevron-circle-left" data-v-73b4aa16></span> <strong data-v-73b4aa16><strong data-v-73b4aa16>SE-EDU</strong></strong></span></a></div> <div class="navbar-default" data-v-73b4aa16><ul class="navbar-nav me-auto mt-2 mt-lg-0" data-v-73b4aa16> <li data-v-73b4aa16><a href="/guides/index.html" class="nav-link" data-v-73b4aa16><span data-v-73b4aa16><strong data-v-73b4aa16>Home</strong></span></a></li> <li data-v-73b4aa16><a href="/guides/about.html" class="nav-link" data-v-73b4aa16><span data-v-73b4aa16><strong data-v-73b4aa16>About</strong></span></a></li> <li data-v-73b4aa16><a href="https://github.com/se-edu/guides" class="nav-link" data-v-73b4aa16><span data-v-73b4aa16><span aria-hidden="true" class="fab fa-github" data-v-73b4aa16></span></span></a></li></ul></div> <ul class="navbar-nav navbar-right" data-v-73b4aa16><li class="nav-link" data-v-73b4aa16><form class="navbar-form" data-v-73b4aa16><div class="dropdown" style="position:relative;" data-v-01e11c9b><input data-bs-toggle="dropdown" type="text" placeholder="Search this site" autocomplete="off" value="" class="form-control" data-v-01e11c9b> <div class="form-control placeholder-div-hidden" data-v-01e11c9b>
      Search this site
    </div> <ul class="dropdown-menu search-dropdown-menu d-none dropdown-menu-end" data-v-01e11c9b></ul></div></form></li></ul></div></nav> <div class="lower-navbar-container" style="display:none;" data-v-73b4aa16><!----> <!----></div></div></header> <div id="flex-body"><div id="content-wrapper" class="fixed-header-padding"><h1 id="guides-for-se-student-projects"><span class="text-dark"><strong><strong>Guides for SE student projects »</strong></strong></span><a href="#guides-for-se-student-projects" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h1> <p></p><h1 id="javafx-tutorial-part-3-interacting-with-the-user">JavaFX tutorial part 3 – Interacting with the user<a href="#javafx-tutorial-part-3-interacting-with-the-user" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h1> <p>Picking up from where we left off last tutorial, we have successfully achieved the desired layout. Now let’s make the application respond to user input.</p> <p>Rather than to do everything in one try, let’s iterate and build up towards our final goal.</p> <h2 id="iteration-1-echoing-the-user">Iteration 1 – Echoing the user<a href="#iteration-1-echoing-the-user" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>JavaFX has an <em>event-driven architecture style</em>. As such, we programmatically define <em>handler</em> methods to execute as a response to certain <em>events</em>. When an event is detected, JavaFX will call the respective handlers.</p> <p>For Duke, there are two events that we want to respond to, namely the user pressing <code class="hljs inline no-lang">Enter</code> in the <code class="hljs inline no-lang">TextField</code> and left-clicking the <code class="hljs inline no-lang">Button</code>. These are the <code class="hljs inline no-lang">onAction</code> event for the <code class="hljs inline no-lang">TextField</code> and the <code class="hljs inline no-lang">onMouseClicked</code> event for the <code class="hljs inline no-lang">Button</code>.</p> <p>For now, let’s have the application add a new <code class="hljs inline no-lang">Label</code> with the text from the <code class="hljs inline no-lang">TextField</code>. Update the <code class="hljs inline no-lang">Main</code> class as follows. You'll need to add an <code class="hljs inline no-lang">import javafx.scene.control.Label;</code> too.</p> <pre><code class="hljs java"><span><span class="hljs-meta">@Override</span>
</span><span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">start</span><span class="hljs-params">(Stage stage)</span> </span>{
</span><span>    <span class="hljs-comment">// Step 1 code here</span>
</span><span>
</span><span>    <span class="hljs-comment">//Step 2 code here</span>
</span><span>
</span><span>    <span class="hljs-comment">//Step 3. Add functionality to handle user input.</span>
</span><span>    sendButton.setOnMouseClicked((event) -&gt; {
</span><span>        dialogContainer.getChildren().add(getDialogLabel(userInput.getText()));
</span><span>        userInput.clear();
</span><span>    });
</span><span>
</span><span>    userInput.setOnAction((event) -&gt; {
</span><span>        dialogContainer.getChildren().add(getDialogLabel(userInput.getText()));
</span><span>        userInput.clear();
</span><span>    });
</span><span>}
</span><span>
</span><span><span class="hljs-comment">/**</span>
</span><span><span class="hljs-comment"> * Iteration 1:</span>
</span><span><span class="hljs-comment"> * Creates a label with the specified text and adds it to the dialog container.</span>
</span><span><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> text String containing text to add</span>
</span><span><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> a label with the specified text that has word wrap enabled.</span>
</span><span><span class="hljs-comment"> */</span>
</span><span><span class="hljs-function"><span class="hljs-keyword">private</span> Label <span class="hljs-title">getDialogLabel</span><span class="hljs-params">(String text)</span> </span>{
</span><span>    <span class="hljs-comment">// You will need to import `javafx.scene.control.Label`.</span>
</span><span>    Label textToAdd = <span class="hljs-keyword">new</span> Label(text);
</span><span>    textToAdd.setWrapText(<span class="hljs-keyword">true</span>);
</span><span>
</span><span>    <span class="hljs-keyword">return</span> textToAdd;
</span><span>}
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><p>Run the program and give it a whirl!</p> <p><a href="/guides/tutorials/images/javafx/EchoNotScrolling.png" target="_self"><img src="/guides/tutorials/images/javafx/EchoNotScrolling.png" alt="Echo not scrolling as intended" class="img-fluid"></a></p> <p>At first glance everything appears to work perfectly. However, when the <code class="hljs inline no-lang">VBox</code> stretches beyond the confines of the <code class="hljs inline no-lang">ScrollPane</code>, the <code class="hljs inline no-lang">ScrollPane</code> does not scroll down automatically as expected. We can remedy this by attaching a handler on the <code class="hljs inline no-lang">VBox</code> to react to its own size changing and scrolling the <code class="hljs inline no-lang">ScrollPane</code> down.</p> <p>Update the <code class="hljs inline no-lang">start</code> method as shown below.</p> <pre><code class="hljs java"><span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">start</span><span class="hljs-params">(Stage stage)</span> </span>{
</span><span>    <span class="hljs-comment">// current code ...</span>
</span><span>
</span><span>    <span class="hljs-comment">//Scroll down to the end every time dialogContainer's height changes.</span>
</span><span>    dialogContainer.heightProperty().addListener((observable) -&gt; scrollPane.setVvalue(<span class="hljs-number">1.0</span>));
</span><span>}
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><p>Verify that the <code class="hljs inline no-lang">ScrollPane</code> scrolls as intended.</p> <h2 id="iteration-2-adding-dialog-boxes">Iteration 2 – Adding Dialog Boxes<a href="#iteration-2-adding-dialog-boxes" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>In the mockup of the UI, notice that the dialog boxes are composed of two different controls (<code class="hljs inline no-lang">ImageView</code> and <code class="hljs inline no-lang">Label</code>) and reused multiple times. In situations like this, it is often beneficial to create our own custom control.</p> <p>Let’s create our custom control <code class="hljs inline no-lang">DialogBox</code>:</p> <pre><code class="hljs java"><span><span class="hljs-keyword">import</span> javafx.geometry.Pos;
</span><span><span class="hljs-keyword">import</span> javafx.scene.control.Label;
</span><span><span class="hljs-keyword">import</span> javafx.scene.image.ImageView;
</span><span><span class="hljs-keyword">import</span> javafx.scene.layout.HBox;
</span><span>
</span><span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DialogBox</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HBox</span> </span>{
</span><span>
</span><span>    <span class="hljs-keyword">private</span> Label text;
</span><span>    <span class="hljs-keyword">private</span> ImageView displayPicture;
</span><span>
</span><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">DialogBox</span><span class="hljs-params">(Label l, ImageView iv)</span> </span>{
</span><span>        text = l;
</span><span>        displayPicture = iv;
</span><span>
</span><span>        text.setWrapText(<span class="hljs-keyword">true</span>);
</span><span>        displayPicture.setFitWidth(<span class="hljs-number">100.0</span>);
</span><span>        displayPicture.setFitHeight(<span class="hljs-number">100.0</span>);
</span><span>
</span><span>        <span class="hljs-keyword">this</span>.setAlignment(Pos.TOP_RIGHT);
</span><span>        <span class="hljs-keyword">this</span>.getChildren().addAll(text, displayPicture);
</span><span>    }
</span><span>}
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><p>We use the code in our main class just like any other control. Here are the steps to update the code to use the custom control in <code class="hljs inline no-lang">Main.java</code>.</p> <p>First, add these imports:</p> <pre><code class="hljs java"><span><span class="hljs-keyword">import</span> javafx.scene.image.Image;
</span><span><span class="hljs-keyword">import</span> javafx.scene.image.ImageView;
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><p>Next, add two images to the <code class="hljs inline no-lang">main/resources/images</code> folder.
For this tutorial, we have two images <code class="hljs inline no-lang">DaUser.png</code> and <code class="hljs inline no-lang">DaDuke.png</code> to represent the user avatar and Duke's avatar respectively but you can use any image you want.</p> <div class="table-responsive"><table class="markbind-table table table-bordered table-striped"><thead><tr><th>Image</th> <th>Filename</th></tr></thead> <tbody><tr><td><a href="/guides/tutorials/images/javafx/DaUser.png" target="_self"><img src="/guides/tutorials/images/javafx/DaUser.png" alt="DaDuke" class="img-fluid"></a></td> <td><code class="hljs inline no-lang">DaUser.png</code></td></tr> <tr><td><a href="/guides/tutorials/images/javafx/DaDuke.png" target="_self"><img src="/guides/tutorials/images/javafx/DaDuke.png" alt="DaUser" class="img-fluid"></a></td> <td><code class="hljs inline no-lang">DaDuke.png</code></td></tr></tbody></table></div><pre><code class="hljs java"><span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Duke</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Application</span> </span>{
</span><span>    <span class="hljs-comment">// ...</span>
</span><span>    <span class="hljs-keyword">private</span> Image user = <span class="hljs-keyword">new</span> Image(<span class="hljs-keyword">this</span>.getClass().getResourceAsStream(<span class="hljs-string">&quot;/images/DaUser.png&quot;</span>));
</span><span>    <span class="hljs-keyword">private</span> Image duke = <span class="hljs-keyword">new</span> Image(<span class="hljs-keyword">this</span>.getClass().getResourceAsStream(<span class="hljs-string">&quot;/images/DaDuke.png&quot;</span>));
</span><span>    <span class="hljs-comment">// ...</span>
</span><span>}
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><div class="alert box-container seamless" data-v-4d146e2c><!----> <div class="header-and-body" data-v-4d146e2c><!----> <div class="box-body-wrapper" data-v-4d146e2c><div class="icon-wrapper  text-danger" data-v-4d146e2c><i class="fas fa-flag" data-v-4d146e2c></i></div> <div aria-hidden="true" class="vertical-divider alert-danger" data-v-4d146e2c></div> <div class="contents" data-v-4d146e2c><p data-v-4d146e2c>Note the image location (e.g., <code class="hljs inline no-lang" data-v-4d146e2c>/images/DaUser.png</code>) is given relative to the <code class="hljs inline no-lang" data-v-4d146e2c>main/resources</code> folder and there is a <code class="hljs inline no-lang" data-v-4d146e2c>/</code> in front. Follow the same for similar cases of using <code class="hljs inline no-lang" data-v-4d146e2c>getResourceAsStream</code> method in later parts of this tutorial.</p></div> <!----></div></div></div> <p>Add a new method to handle user input:</p> <pre><code class="hljs java"><span><span class="hljs-comment">/**</span>
</span><span><span class="hljs-comment"> * Iteration 2:</span>
</span><span><span class="hljs-comment"> * Creates two dialog boxes, one echoing user input and the other containing Duke's reply and then appends them to</span>
</span><span><span class="hljs-comment"> * the dialog container. Clears the user input after processing.</span>
</span><span><span class="hljs-comment"> */</span>
</span><span><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">handleUserInput</span><span class="hljs-params">()</span> </span>{
</span><span>    Label userText = <span class="hljs-keyword">new</span> Label(userInput.getText());
</span><span>    Label dukeText = <span class="hljs-keyword">new</span> Label(getResponse(userInput.getText()));
</span><span>    dialogContainer.getChildren().addAll(
</span><span>            <span class="hljs-keyword">new</span> DialogBox(userText, <span class="hljs-keyword">new</span> ImageView(user)),
</span><span>            <span class="hljs-keyword">new</span> DialogBox(dukeText, <span class="hljs-keyword">new</span> ImageView(duke))
</span><span>    );
</span><span>    userInput.clear();
</span><span>}
</span><span>
</span><span><span class="hljs-comment">/**</span>
</span><span><span class="hljs-comment"> * You should have your own function to generate a response to user input.</span>
</span><span><span class="hljs-comment"> * Replace this stub with your completed method.</span>
</span><span><span class="hljs-comment"> */</span>
</span><span><span class="hljs-function"><span class="hljs-keyword">private</span> String <span class="hljs-title">getResponse</span><span class="hljs-params">(String input)</span> </span>{
</span><span>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Duke heard: &quot;</span> + input;
</span><span>}
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><p>Update the event handler code in the <code class="hljs inline no-lang">start</code> method to use the new <code class="hljs inline no-lang">handleUserInput</code> method:</p> <pre><code class="hljs java"><span>
</span><span><span class="hljs-meta">@Override</span>
</span><span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">start</span><span class="hljs-params">(Stage stage)</span> </span>{
</span><span>    <span class="hljs-comment">//...</span>
</span><span>
</span><span>    <span class="hljs-comment">//Part 3. Add functionality to handle user input.</span>
</span><span>    sendButton.setOnMouseClicked((event) -&gt; {
</span><span>        handleUserInput();
</span><span>    });
</span><span>
</span><span>    userInput.setOnAction((event) -&gt; {
</span><span>        handleUserInput();
</span><span>    });
</span><span>}
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><p>Run the program and see how it works.</p> <p><a href="/guides/tutorials/images/javafx/DialogBoxesIteration2.png" target="_self"><img src="/guides/tutorials/images/javafx/DialogBoxesIteration2.png" alt="DialogBoxes Iteration 2" class="img-fluid"></a></p> <h2 id="iteration-3-adding-custom-behavior-to-dialogbox">Iteration 3 – Adding custom behavior to DialogBox<a href="#iteration-3-adding-custom-behavior-to-dialogbox" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>One additional benefit of defining a custom control is that we can add behavior specific to our <code class="hljs inline no-lang">DialogBox</code>. Let’s add a method to flip a dialog box such that the image on the left to differentiate between user input and Duke’s output.</p> <pre><code class="hljs java"><span><span class="hljs-comment">/**</span>
</span><span><span class="hljs-comment"> * Flips the dialog box such that the ImageView is on the left and text on the right.</span>
</span><span><span class="hljs-comment"> */</span>
</span><span><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">flip</span><span class="hljs-params">()</span> </span>{
</span><span>    <span class="hljs-keyword">this</span>.setAlignment(Pos.TOP_LEFT);
</span><span>    ObservableList&lt;Node&gt; tmp = FXCollections.observableArrayList(<span class="hljs-keyword">this</span>.getChildren());
</span><span>    FXCollections.reverse(tmp);
</span><span>    <span class="hljs-keyword">this</span>.getChildren().setAll(tmp);
</span><span>}
</span><span>
</span><span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> DialogBox <span class="hljs-title">getUserDialog</span><span class="hljs-params">(Label l, ImageView iv)</span> </span>{
</span><span>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> DialogBox(l, iv);
</span><span>}
</span><span>
</span><span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> DialogBox <span class="hljs-title">getDukeDialog</span><span class="hljs-params">(Label l, ImageView iv)</span> </span>{
</span><span>    <span class="hljs-keyword">var</span> db = <span class="hljs-keyword">new</span> DialogBox(l, iv);
</span><span>    db.flip();
</span><span>    <span class="hljs-keyword">return</span> db;
</span><span>}
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><p>You'll need to update the imports as follows:</p> <pre><code class="hljs java"><span><span class="hljs-keyword">import</span> javafx.collections.FXCollections;
</span><span><span class="hljs-keyword">import</span> javafx.collections.ObservableList;
</span><span><span class="hljs-keyword">import</span> javafx.geometry.Pos;
</span><span><span class="hljs-keyword">import</span> javafx.scene.Node;
</span><span><span class="hljs-keyword">import</span> javafx.scene.control.Label;
</span><span><span class="hljs-keyword">import</span> javafx.scene.image.ImageView;
</span><span><span class="hljs-keyword">import</span> javafx.scene.layout.HBox;
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><p>Now, we can go back to the <code class="hljs inline no-lang">Main</code> class and change the event handler to use our new <code class="hljs inline no-lang">DialogBox</code>.</p> <pre><code class="hljs java"><span><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">handleUserInput</span><span class="hljs-params">()</span> </span>{
</span><span>    Label userText = <span class="hljs-keyword">new</span> Label(userInput.getText());
</span><span>    Label dukeText = <span class="hljs-keyword">new</span> Label(getResponse(userInput.getText()));
</span><span>    dialogContainer.getChildren().addAll(
</span><span>            DialogBox.getUserDialog(userText, <span class="hljs-keyword">new</span> ImageView(user)),
</span><span>            DialogBox.getDukeDialog(dukeText, <span class="hljs-keyword">new</span> ImageView(duke))
</span><span>    );
</span><span>    userInput.clear();
</span><span>}
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><p>Run the application and play around with it.</p> <p><a href="/guides/tutorials/images/javafx/DialogBoxesIteration3.png" target="_self"><img src="/guides/tutorials/images/javafx/DialogBoxesIteration3.png" alt="DialogBoxes Iteration 3" class="img-fluid"></a></p> <p>Congratulations!
You have successfully implemented a fully functional GUI for Duke!</p> <h2 id="exercises">Exercises<a href="#exercises" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <ol><li><p>While the GUI looks similar to the mockup, there are still parts that need to be refined. Try your hand at some of these tasks:</p> <ul><li>Add padding between each DialogBox</li> <li>Add padding between each ImageView and its Label</li> <li>Clip the ImageView into a circle</li> <li>Add background color to each dialog box</li></ul></li> <li><p>After attempting the changes, reflect critically on the following:</p> <ul><li>What was the development workflow like?</li> <li>Is the code base well-organized?</li></ul></li></ol> <p><a href="/guides/tutorials/javaFxPart2.html"><span aria-hidden="true" class="fas fa-arrow-left"></span> Previous</a> | <a href="/guides/tutorials/javaFx.html"><span aria-hidden="true" class="fas fa-arrow-up"></span> <strong>ToC</strong></a> | <span class="badge rounded-pill bg-primary"><strong><span class="large">What's next?</span></strong></span> <a href="/guides/tutorials/javaFxPart4.html"><span aria-hidden="true" class="fas fa-arrow-right"></span> JavaFX tutorial part 4 - <strong>Using FXML</strong></a></p> <hr> <p><strong>Authors:</strong></p> <ul><li>Initial Version: Jeffry Lum</li></ul><p></p></div> <nav id="page-nav" class="fixed-header-padding" data-v-e6005420><div class="nav-component slim-scroll" data-v-e6005420><nav id="mb-page-nav" class="nav nav-pills flex-column my-0 small no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#javafx-tutorial-part-3-interacting-with-the-user" data-v-e6005420>JavaFX tutorial part 3 – Interacting with the user‎</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#iteration-1-echoing-the-user" data-v-e6005420>Iteration 1 – Echoing the user‎</a> <a class="nav-link py-1" href="#iteration-2-adding-dialog-boxes" data-v-e6005420>Iteration 2 – Adding Dialog Boxes‎</a> <a class="nav-link py-1" href="#iteration-3-adding-custom-behavior-to-dialogbox" data-v-e6005420>Iteration 3 – Adding custom behavior to DialogBox‎</a> <a class="nav-link py-1" href="#exercises" data-v-e6005420>Exercises‎</a></nav> <!----></nav></div> <!----></nav> <div aria-hidden="true" class="scroll-top-button fa-lg d-print-none" style="display:none;bottom:2%;right:2%;position:fixed;"><i class="fas fa-arrow-circle-up"></i></div></div> <footer><div class="text-center"><small>[Powered by <img src="https://markbind.org/favicon.ico" width="30"> <a href="https://markbind.org/">MarkBind 5.2.0</a> on Fri, 26 Jan 2024, 23:48:51 GMT+8]</small></div></footer></div>
</body><script src="/guides/markbind/js/bootstrap-utility.min.js"></script>
<script>
  MarkBind.setupWithSearch()
</script>
    <script>
    function copyCodeBlock(element) {
        const pre = element.parentElement.parentElement;
        const codeElement = pre.querySelector('code');

        // create dummy text element to select() the text field
        const textElement = document.createElement('textarea');
        textElement.value = codeElement.textContent;
        document.body.appendChild(textElement);
        textElement.select();

        document.execCommand('copy');
        document.body.removeChild(textElement);
    }
    </script>
</html>
